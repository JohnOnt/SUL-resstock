schema_version: '0.3'
buildstock_directory: ./ # Relative to this file or absolute
project_directory: project_national  # Relative to buildstock_directory
output_directory: /lustre/eaglefs/projects/scout/geb-potential/v2.5_runs/test_2.5k
weather_files_path: /shared-projects/buildstock/weather/BuildStock_TMY3_FIPS.zip

# To run with ResStock v2.5.0 (last release before HPXML)

sampler:
  type: residential_quota
  args:
    n_datapoints: 2500 #250000
    # logic:
    #   - Geometry Building Type RECS|Single-Family Detached
    # resample: true

baseline:
  n_buildings_represented: 81221016 

workflow_generator:
  type: residential_default
  args:
    residential_simulation_controls:
      timesteps_per_hr: 6
      begin_month: 1
      begin_day_of_month: 1
      end_month: 12
      end_day_of_month: 31
      calendar_year: 2006 #2006 starts on Sunday, 2007 starts on Monday

    simulation_output:
      include_enduse_subcategories: true

    timeseries_csv_export:
      reporting_frequency: Hourly
      include_enduse_subcategories: true

    # reporting_measures:
      # - measure_dir_name: QOIReport

    server_directory_cleanup:
      retain_in_idf: true
      retain_schedules_csv: false
  
eagle:
  account: scout
  n_jobs: 20 #1000
  minutes_per_sim: 4
  sampling:
    time: 20
  postprocessing:
    time: 300 #1439
    n_workers: 1 #10
  
postprocessing:
  aws:
    region_name: 'us-west-2'
    s3:
      bucket: nrel-scout
      prefix: geb-potential/FY22_runs
    athena:
      glue_service_role: service-role/AWSGlueServiceRole-default
      database_name: geb_potential
      max_crawling_time: 3000 #seconds to wait for the crawler to complete before aborting it

upgrades:
  #note: no reference scenarios. Everything happens today.  
  ##up1 - package 1a - EE CAC
  - upgrade_name: Package 1a EE CAC
    options: 
      #Best CAC
      - option: HVAC Cooling Efficiency|AC, SEER 24.5
        apply_logic:
          - or:
            - HVAC Cooling Efficiency|AC, SEER 8
            - HVAC Cooling Efficiency|AC, SEER 10
            - HVAC Cooling Efficiency|AC, SEER 13
            - HVAC Cooling Efficiency|AC, SEER 14
            - HVAC Cooling Efficiency|AC, SEER 15
            - HVAC Cooling Efficiency|AC, SEER 18
          - not:
            - HVAC Heating Efficiency|Electric Furnace, 100% AFUE
        costs:
          - value: 3200
            multiplier: Fixed (1)
          - value: 42
            multiplier: Size, Cooling System (kBtu/h)
        lifetime: 16

  ##up2 - package 1b- EE ASHP
  - upgrade_name: Package 1b EE ASHP
    options: 
      #Best ASHP
      - option: HVAC Heating Efficiency|ASHP, SEER 22, 10 HSPF
        apply_logic: 
          or:
            - HVAC Heating Efficiency|ASHP, SEER 10, 6.2 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 10.3, 7.0 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 11.5, 7.5 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 13, 7.7 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 13, 8.0 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 14, 8.2 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 14.3, 8.5 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 15, 8.5 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 16, 9.0 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 17, 8.7 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 18, 9.3 HSPF
            - HVAC Heating Efficiency|Electric Furnace, 100% AFUE
            #removed upgrades from electric resistance heating to ensure no house is included in both the ASHP and CAC upgrade packages
        costs:
          - value: 4200
            multiplier: Fixed (1)
          - value: 42
            multiplier: Size, Heating System (kBtu/h)
        lifetime: 15
  
  ##up3 - package 1c - EE best smart thermostat
  - upgrade_name: Package 1c EE Best Smart Thermostat #applies to all baseline datapoints
    #Best Smart Thermostat
    options:
      ## Only apply offset if there is not an existing offset
      - option: Cooling Setpoint Apply Offset|Yes
        apply_logic:
          - Cooling Setpoint Has Offset|No
      - option: Heating Setpoint Apply Offset|Yes
        apply_logic:
          - Heating Setpoint Has Offset|No
                 
      ## Night setback, cooling
      - option: Setback|Night - Cooling #+4
        apply_logic:
          - Weekday Occupancy|Yes
          - not: Cooling Setpoint|80F
          - not: Cooling Setpoint|78F     
      ## Full setback, cooling
      - option: Setback|Full - Cooling #+4 (daytime/unoccupied setback not considered)
        apply_logic:
          - Weekday Occupancy|No
          - not: Cooling Setpoint|80F
          - not: Cooling Setpoint|78F
      ## No setback, cooling
      - option: Setback|None - Cooling #Overwrite default if tsp above threshold
        apply_logic:
          - or:
            - Cooling Setpoint|80F
            - Cooling Setpoint|78F       
      ## Night setback, heating
      - option: Setback|Night - Heating #-8
        apply_logic:
          - Weekday Occupancy|Yes
          - not: Heating Setpoint|55F
          - not: Heating Setpoint|60F
          - not: Heating Setpoint|62F
          - not: Heating Setpoint|65F
          - not: Heating Setpoint|67F
      ## Full setback, heating
      - option: Setback|Full - Heating #-8
        apply_logic:
          - Weekday Occupancy|No
          - not: Heating Setpoint|55F
          - not: Heating Setpoint|60F
          - not: Heating Setpoint|62F
          - not: Heating Setpoint|65F
          - not: Heating Setpoint|67F
      ## No setback, heating
      - option: Setback|None - Heating #Overwrite default if tsp below threshold
        apply_logic:
          - or:
            - Heating Setpoint|55F
            - Heating Setpoint|60F
            - Heating Setpoint|62F
            - Heating Setpoint|65F
            - Heating Setpoint|67F

  ##up4 - package 1d - EE best envelope
  - upgrade_name: Package 1d EE Best Envelope
    options: 
      ## Best walls
      - option: Insulation Wall|Wood Stud, R-15, R-20 external XPS
        apply_logic:
          or:
            - Insulation Wall|Wood Stud, Uninsulated
            - Insulation Wall|Wood Stud, R-7
            - Insulation Wall|Wood Stud, R-11
            - Insulation Wall|Wood Stud, R-13
            - Insulation Wall|Wood Stud, R-15
      - option: Insulation Wall|Wood Stud, R-19, R-20 external XPS
        apply_logic: Insulation Wall|Wood Stud, R-19
      - option: Insulation Wall|CMU, 6-in Hollow, R-5.5, R-20 XPS
        apply_logic: Insulation Wall|CMU, 6-in Hollow, Uninsulated
      - option: Insulation Wall Upgrade|CMU, R-20 XPS Upgrade
        apply_logic:
          or:
            - Insulation Wall|CMU, 6-in Hollow, R-7
            - Insulation Wall|CMU, 6-in Hollow, R-11
            - Insulation Wall|CMU, 6-in Hollow, R-15
            - Insulation Wall|CMU, 6-in Hollow, R-19
      # Best roofs
      - option: Insulation Ceiling|R-60
        apply_logic: 
          or:
            - Insulation Ceiling|Uninsulated
            - Insulation Ceiling|R-7
            - Insulation Ceiling|R-13
            - Insulation Ceiling|R-19
            - Insulation Ceiling|R-30
            - Insulation Ceiling|R-38
            - Insulation Ceiling|R-49
      #Best air sealing
      - option: Infiltration|1 ACH50
        costs:
          - value: 0
            multiplier: Fixed (1)
        lifetime: 999
      - option: Mechanical Ventilation|Exhaust
        apply_logic: 
            - Mechanical Ventilation|None
        costs: 
          - value: 360
            multiplier: Fixed (1)
        lifetime: 999
      ## Best windows
      - option: Windows|SCOUT 5.88 R, 0.49 SHGC #AIA1
        apply_logic:
          or:
            - Location City|Denver_1
            - Location City|Denver_2
            - Location City|Great Falls_1
            - Location City|Great Falls_2
            - Location City|International Falls_1
            - Location City|International Falls_2
      - option: Windows|SCOUT 5.88 R, 0.42 SHGC #AIA2
        apply_logic:
          or:
            - Location City|Albuquerque_1
            - Location City|Albuquerque_2
            - Location City|Port Angeles
            - Location City|Buffalo_1
            - Location City|Buffalo_2
            - Location City|Rochester_1
            - Location City|Rochester_1
      - option: Windows|SCOUT 5.88 R, 0.27 SHGC #AIA3
        apply_logic:
          or:
            - Location City|New York_1
            - Location City|New York_2
            - Location City|Seattle_1
            - Location City|Seattle_2

      - option: Windows|SCOUT 5.88 R, 0.25 SHGC #AIA4 & AIA5
        apply_logic:
          or:
            - Location City|San Diego
            - Location City|Tucson
            - Location City|Atlanta_1
            - Location City|Atlanta_2
            - Location City|Midland_1
            - Location City|Midland_2
            - Location City|Tampa_1
            - Location City|Tampa_2

      #Best foundation:
      - option: Insulation Floor|Ceiling R-30 #AIA1 & AIA12
        apply_logic:
        - or:
            - Insulation Floor|Uninsulated
            - Insulation Floor|Ceiling R-13
            - Insulation Floor|Ceiling R-19
        - or:
            - Location City|Denver_1
            - Location City|Denver_2
            - Location City|Great Falls_1
            - Location City|Great Falls_2
            - Location City|International Falls_1
            - Location City|International Falls_2
            - Location City|Albuquerque_1
            - Location City|Albuquerque_2
            - Location City|Port Angeles
            - Location City|Buffalo_1
            - Location City|Buffalo_2
            - Location City|Rochester_1
            - Location City|Rochester_1
            - Location City|New York_1
            - Location City|New York_2
      - option: Insulation Foundation Wall|Wall R-15, Exterior #AIA1 & AIA12
        apply_logic:
        - or:
            - Insulation Foundation Wall|Uninsulated
            - Insulation Foundation Wall|Wall R-5, Exterior
            - Insulation Foundation Wall|Wall R-10, Exterior
        - or:   
            - Location City|Denver_1
            - Location City|Denver_2
            - Location City|Great Falls_1
            - Location City|Great Falls_2
            - Location City|International Falls_1
            - Location City|International Falls_2
            - Location City|Albuquerque_1
            - Location City|Albuquerque_2
            - Location City|Port Angeles
            - Location City|Buffalo_1
            - Location City|Buffalo_2
            - Location City|Rochester_1
            - Location City|Rochester_1
            - Location City|New York_1
            - Location City|New York_2
  
  ##up5 - package 1e - EE best appliances (1st)
  - upgrade_name: Package 1e EE Best Appliances
    options: 
      #Best LEDs
      - option: Lighting|100% LED
        apply_logic:
          or:
            - Lighting|100% Incandescent
            - Lighting|60% CFL
            - Lighting|100% CFL
            - Lighting|20% LED
      # Best Refrigerator
      - option: Refrigerator|EF 21.9, 95% Usage
        apply_logic: 
          or:
            - Refrigerator|EF 17.6, 95% Usage
            - Refrigerator|EF 15.9, 95% Usage
            - Refrigerator|EF 10.5, 95% Usage
            - Refrigerator|EF 10.2, 95% Usage
            - Refrigerator|EF 6.7, 95% Usage
      - option: Refrigerator|EF 21.9, 100% Usage
        apply_logic: 
          or:
            - Refrigerator|EF 17.6, 100% Usage
            - Refrigerator|EF 15.9, 100% Usage
            - Refrigerator|EF 10.5, 100% Usage
            - Refrigerator|EF 10.2, 100% Usage
            - Refrigerator|EF 6.7, 100% Usage
      - option: Refrigerator|EF 21.9, 105% Usage
        apply_logic: 
          or:
            - Refrigerator|EF 17.6, 105% Usage
            - Refrigerator|EF 15.9, 105% Usage
            - Refrigerator|EF 10.5, 105% Usage
            - Refrigerator|EF 10.2, 105% Usage
            - Refrigerator|EF 6.7, 105% Usage
      # Best HPWH
      - option: Water Heater Efficiency|Electric Heat Pump, 80 gal, Upgrade
        apply_logic: 
          or:
            - Water Heater Efficiency|Electric Standard
            - Water Heater Efficiency|Electric Premium
            - Water Heater Efficiency|Electric Benchmark
            #removed tankless and in confined space
        costs:
          - value: 0
            multiplier: Fixed (1)
        lifetime: 12
      # Best clothes washer
      - option: Clothes Washer|EnergyStar Most Efficient, 80% Usage
        apply_logic:
          or:
            - Clothes Washer|EnergyStar, 80% Usage
            - Clothes Washer|Standard, 80% Usage
        costs:
          - value: 0
            multiplier: Fixed (1)
        lifetime: 999
      - option: Clothes Washer|EnergyStar Most Efficient, 100% Usage
        apply_logic:
          or:
            - Clothes Washer|EnergyStar, 100% Usage
            - Clothes Washer|Standard, 100% Usage
            - Clothes Washer|Standard, 100% Usage, Cold Only
            - Clothes Washer|EnergyStar, Cold Only
        costs:
          - value: 0
            multiplier: Fixed (1)
        lifetime: 999
      - option: Clothes Washer|EnergyStar Most Efficient, 120% Usage
        apply_logic:
          or:
            - Clothes Washer|EnergyStar, 120% Usage
            - Clothes Washer|Standard, 120% Usage
        costs:
          - value: 0
            multiplier: Fixed (1)
        lifetime: 999
      # Best clothes dryer
      - option: Clothes Dryer|Electric, Premium, Heat Pump, Ventless, 80% Usage
        apply_logic:
          or:
            - Clothes Dryer|Electric, 80% Usage
        costs:
          - value: 0
            multiplier: Fixed (1)
        lifetime: 999
      - option: Clothes Dryer|Electric, Premium, Heat Pump, Ventless, 100% Usage
        apply_logic:
          or:
            - Clothes Dryer|Electric, 100% Usage
        costs:
          - value: 0
            multiplier: Fixed (1)
        lifetime: 999
      - option: Clothes Dryer|Electric, Premium, Heat Pump, Ventless, 120% Usage
        apply_logic:
          or:
            - Clothes Dryer|Electric, 120% Usage
        costs:
          - value: 0
            multiplier: Fixed (1)
        lifetime: 999
      
      # Best dishwasher
      - option: Dishwasher|144 Rated kWh, 80% Usage
        apply_logic: 
          or:
            - Dishwasher|318 Rated kWh, 80% Usage
            - Dishwasher|290 Rated kWh, 80% Usage
        costs:
          - value: 1000
            multiplier: Fixed (1)
        lifetime: 11
      - option: Dishwasher|144 Rated kWh, 100% Usage
        apply_logic: 
          or:
            - Dishwasher|318 Rated kWh, 100% Usage
            - Dishwasher|290 Rated kWh, 100% Usage
        costs:
          - value: 1000
            multiplier: Fixed (1)
        lifetime: 11
      - option: Dishwasher|144 Rated kWh, 120% Usage
        apply_logic: 
          or:
            - Dishwasher|318 Rated kWh, 120% Usage
            - Dishwasher|290 Rated kWh, 120% Usage
        costs:
          - value: 0
            multiplier: Fixed (1)
        lifetime: 11
      #Best pool pump
      - option: Misc Pool Pump|0.75 HP Pump
        apply_logic: Misc Pool Pump|1.0 HP Pump
        costs:
          - value: 0
            multiplier: Fixed (1)
        lifetime: 999
      #Best electronics
      - option: Plug Load Shed|25%

  ##up6 - package 1f - Best CAC Homes, best CAC, smart thermostat and envelope (1st) ####
  - upgrade_name: Package 1f EE CAC with smart thermostat and envelope
    package_apply_logic:
      - or:
        - HVAC Cooling Efficiency|AC, SEER 8
        - HVAC Cooling Efficiency|AC, SEER 10
        - HVAC Cooling Efficiency|AC, SEER 13
        - HVAC Cooling Efficiency|AC, SEER 14
        - HVAC Cooling Efficiency|AC, SEER 15
        - HVAC Cooling Efficiency|AC, SEER 18
      - not:
        - HVAC Heating Efficiency|Electric Furnace, 100% AFUE
    options: 
      ## Best CAC (UPGRADE 1)
      - option: HVAC Cooling Efficiency|AC, SEER 24.5
        costs:
          - value: 3200
            multiplier: Fixed (1)
          - value: 42
            multiplier: Size, Cooling System (kBtu/h)
        lifetime: 16
        
      ## Best smart thermostat (UPGRADE 3)
      - option: Cooling Setpoint Apply Offset|Yes
        apply_logic:
          - Cooling Setpoint Has Offset|No
      - option: Heating Setpoint Apply Offset|Yes
        apply_logic:
          - Heating Setpoint Has Offset|No
      # - option: Cooling Setpoint Apply Offset|No
      #   apply_logic:
      #     - Cooling Setpoint Has Offset|Yes
      # - option: Heating Setpoint Apply Offset|No
      #   apply_logic:
      #     - Heating Setpoint Has Offset|Yes
      
      ## Night setback, cooling
      - option: Setback|Night - Cooling #+4
        apply_logic:
          - Weekday Occupancy|Yes
          - not: Cooling Setpoint|80F
          - not: Cooling Setpoint|78F     
      ## Full setback, cooling
      - option: Setback|Full - Cooling #+4 (daytime/unoccupied setback not considered)
        apply_logic:
          - Weekday Occupancy|No
          - not: Cooling Setpoint|80F
          - not: Cooling Setpoint|78F
      ## No setback, cooling
      - option: Setback|None - Cooling #Overwrite default if tsp above threshold
        apply_logic:
          - or:
            - Cooling Setpoint|80F
            - Cooling Setpoint|78F       
      ## Night setback, heating
      - option: Setback|Night - Heating #-8
        apply_logic:
          - Weekday Occupancy|Yes
          - not: Heating Setpoint|55F
          - not: Heating Setpoint|60F
          - not: Heating Setpoint|62F
          - not: Heating Setpoint|65F
          - not: Heating Setpoint|67F
      ## Full setback, heating
      - option: Setback|Full - Heating #-8
        apply_logic:
          - Weekday Occupancy|No
          - not: Heating Setpoint|55F
          - not: Heating Setpoint|60F
          - not: Heating Setpoint|62F
          - not: Heating Setpoint|65F
          - not: Heating Setpoint|67F
      ## No setback, heating
      - option: Setback|None - Heating #Overwrite default if tsp below threshold
        apply_logic:
          - or:
            - Heating Setpoint|55F
            - Heating Setpoint|60F  
            - Heating Setpoint|62F
            - Heating Setpoint|65F
            - Heating Setpoint|67F

      ## Envelope (UPGRADE 4)
      # Best walls
      - option: Insulation Wall|Wood Stud, R-15, R-20 external XPS
        apply_logic:
          or:
            - Insulation Wall|Wood Stud, Uninsulated
            - Insulation Wall|Wood Stud, R-7
            - Insulation Wall|Wood Stud, R-11
            - Insulation Wall|Wood Stud, R-13
            - Insulation Wall|Wood Stud, R-15
      - option: Insulation Wall|Wood Stud, R-19, R-20 external XPS
        apply_logic: Insulation Wall|Wood Stud, R-19
      - option: Insulation Wall|CMU, 6-in Hollow, R-5.5, R-20 XPS
        apply_logic: Insulation Wall|CMU, 6-in Hollow, Uninsulated
      - option: Insulation Wall Upgrade|CMU, R-20 XPS Upgrade
        apply_logic:
          or:
            - Insulation Wall|CMU, 6-in Hollow, R-7
            - Insulation Wall|CMU, 6-in Hollow, R-11
            - Insulation Wall|CMU, 6-in Hollow, R-15
            - Insulation Wall|CMU, 6-in Hollow, R-19
      # Best roofs
      - option: Insulation Ceiling|R-60
        apply_logic: 
          or:
            - Insulation Ceiling|Uninsulated
            - Insulation Ceiling|R-7
            - Insulation Ceiling|R-13
            - Insulation Ceiling|R-19
            - Insulation Ceiling|R-30
            - Insulation Ceiling|R-38
            - Insulation Ceiling|R-49
      # Best air sealing
      - option: Infiltration|1 ACH50
        costs:
          - value: 0
            multiplier: Fixed (1)
        lifetime: 999
      - option: Mechanical Ventilation|Exhaust
        apply_logic: 
            - Mechanical Ventilation|None
        costs: 
          - value: 360
            multiplier: Fixed (1)
        lifetime: 999
      # Best windows
      - option: Windows|SCOUT 5.88 R, 0.49 SHGC #AIA1
        apply_logic:
          or:
            - Location City|Denver_1
            - Location City|Denver_2
            - Location City|Great Falls_1
            - Location City|Great Falls_2
            - Location City|International Falls_1
            - Location City|International Falls_2
      - option: Windows|SCOUT 5.88 R, 0.42 SHGC #AIA2
        apply_logic:
          or:
            - Location City|Albuquerque_1
            - Location City|Albuquerque_2
            - Location City|Port Angeles
            - Location City|Buffalo_1
            - Location City|Buffalo_2
            - Location City|Rochester_1
            - Location City|Rochester_1
      - option: Windows|SCOUT 5.88 R, 0.27 SHGC #AIA3
        apply_logic:
          or:
            - Location City|New York_1
            - Location City|New York_2
            - Location City|Seattle_1
            - Location City|Seattle_2
      - option: Windows|SCOUT 5.88 R, 0.25 SHGC #AIA4 & AIA5
        apply_logic:
          or:
            - Location City|San Diego
            - Location City|Tucson
            - Location City|Atlanta_1
            - Location City|Atlanta_2
            - Location City|Midland_1
            - Location City|Midland_2
            - Location City|Tampa_1
            - Location City|Tampa_2
      #Best foundation:
      - option: Insulation Floor|Ceiling R-30 #AIA1 & AIA12
        apply_logic:
        - or:
            - Insulation Floor|Uninsulated
            - Insulation Floor|Ceiling R-13
            - Insulation Floor|Ceiling R-19
        - or:
            - Location City|Denver_1
            - Location City|Denver_2
            - Location City|Great Falls_1
            - Location City|Great Falls_2
            - Location City|International Falls_1
            - Location City|International Falls_2
            - Location City|Albuquerque_1
            - Location City|Albuquerque_2
            - Location City|Port Angeles
            - Location City|Buffalo_1
            - Location City|Buffalo_2
            - Location City|Rochester_1
            - Location City|Rochester_1
            - Location City|New York_1
            - Location City|New York_2
      - option: Insulation Foundation Wall|Wall R-15, Exterior #AIA1 & AIA12
        apply_logic:
        - or:
            - Insulation Foundation Wall|Uninsulated
            - Insulation Foundation Wall|Wall R-5, Exterior
            - Insulation Foundation Wall|Wall R-10, Exterior
        - or:   
            - Location City|Denver_1
            - Location City|Denver_2
            - Location City|Great Falls_1
            - Location City|Great Falls_2
            - Location City|International Falls_1
            - Location City|International Falls_2
            - Location City|Albuquerque_1
            - Location City|Albuquerque_2
            - Location City|Port Angeles
            - Location City|Buffalo_1
            - Location City|Buffalo_2
            - Location City|Rochester_1
            - Location City|Rochester_1
            - Location City|New York_1
            - Location City|New York_2

  ##up7 - package 1g - Best ASHP, smart thermostat (*only for homes with ASHP upgrade), and envelope (1st)
  - upgrade_name: Package 1g EE ASHP with smart thermostat and best envelope
    package_apply_logic: #same as 1b
      or:
            - HVAC Heating Efficiency|ASHP, SEER 10, 6.2 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 10.3, 7.0 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 11.5, 7.5 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 13, 7.7 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 13, 8.0 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 14, 8.2 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 14.3, 8.5 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 15, 8.5 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 16, 9.0 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 17, 8.7 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 18, 9.3 HSPF
            - HVAC Heating Efficiency|Electric Furnace, 100% AFUE          
    options: 
      ## Best ASHP
      - option: HVAC Heating Efficiency|ASHP, SEER 22, 10 HSPF
        costs:
          - value: 0
            multiplier: Fixed (1)
        lifetime: 999
      ## Best Smart Thermostat
      - option: Cooling Setpoint Apply Offset|Yes
        apply_logic:
          - Cooling Setpoint Has Offset|No
      - option: Heating Setpoint Apply Offset|Yes
        apply_logic:
          - Heating Setpoint Has Offset|No
      # - option: Cooling Setpoint Apply Offset|No
      #   apply_logic:
      #     - Cooling Setpoint Has Offset|Yes
      # - option: Heating Setpoint Apply Offset|No
      #   apply_logic:
      #     - Heating Setpoint Has Offset|Yes            
            
      ## Night setback, cooling
      - option: Setback|Night - Cooling #+4
        apply_logic:
          - Weekday Occupancy|Yes
          - not: Cooling Setpoint|80F
          - not: Cooling Setpoint|78F     
      ## Full setback, cooling
      - option: Setback|Full - Cooling #+4 (daytime/unoccupied setback not considered)
        apply_logic:
          - Weekday Occupancy|No
          - not: Cooling Setpoint|80F
          - not: Cooling Setpoint|78F
      ## No setback, cooling
      - option: Setback|None - Cooling #Overwrite default if tsp above threshold
        apply_logic:
          - or:
            - Cooling Setpoint|80F
            - Cooling Setpoint|78F       
      ## Night setback, heating
      - option: Setback|Night - Heating #-8
        apply_logic:
          - Weekday Occupancy|Yes
          - not: Heating Setpoint|55F
          - not: Heating Setpoint|60F
          - not: Heating Setpoint|62F
          - not: Heating Setpoint|65F
          - not: Heating Setpoint|67F
      ## Full setback, heating
      - option: Setback|Full - Heating #-8
        apply_logic:
          - Weekday Occupancy|No
          - not: Heating Setpoint|55F
          - not: Heating Setpoint|60F
          - not: Heating Setpoint|62F
          - not: Heating Setpoint|65F
          - not: Heating Setpoint|67F
      ## No setback, heating
      - option: Setback|None - Heating #Overwrite default if tsp below threshold
        apply_logic:
          - or:
            - Heating Setpoint|55F
            - Heating Setpoint|60F
            - Heating Setpoint|62F
            - Heating Setpoint|65F
            - Heating Setpoint|67F

      ## Best walls
      - option: Insulation Wall|Wood Stud, R-15, R-20 external XPS
        apply_logic:
          or:
            - Insulation Wall|Wood Stud, Uninsulated
            - Insulation Wall|Wood Stud, R-7
            - Insulation Wall|Wood Stud, R-11
            - Insulation Wall|Wood Stud, R-13
            - Insulation Wall|Wood Stud, R-15
      - option: Insulation Wall|Wood Stud, R-19, R-20 external XPS
        apply_logic: Insulation Wall|Wood Stud, R-19
      - option: Insulation Wall|CMU, 6-in Hollow, R-5.5, R-20 XPS
        apply_logic: Insulation Wall|CMU, 6-in Hollow, Uninsulated
      - option: Insulation Wall Upgrade|CMU, R-20 XPS Upgrade
        apply_logic:
          or:
            - Insulation Wall|CMU, 6-in Hollow, R-7
            - Insulation Wall|CMU, 6-in Hollow, R-11
            - Insulation Wall|CMU, 6-in Hollow, R-15
            - Insulation Wall|CMU, 6-in Hollow, R-19
      # Best roofs
      - option: Insulation Ceiling|R-60
        apply_logic: 
          or:
            - Insulation Ceiling|Uninsulated
            - Insulation Ceiling|R-7
            - Insulation Ceiling|R-13
            - Insulation Ceiling|R-19
            - Insulation Ceiling|R-30
            - Insulation Ceiling|R-38
            - Insulation Ceiling|R-49
      # Best air sealing
      - option: Infiltration|1 ACH50
        costs:
          - value: 0
            multiplier: Fixed (1)
        lifetime: 999
      - option: Mechanical Ventilation|Exhaust
        apply_logic: 
            - Mechanical Ventilation|None
        costs: 
          - value: 360
            multiplier: Fixed (1)
        lifetime: 999
      # Best windows
      - option: Windows|SCOUT 5.88 R, 0.49 SHGC #AIA1
        apply_logic:
          or:
            - Location City|Denver_1
            - Location City|Denver_2
            - Location City|Great Falls_1
            - Location City|Great Falls_2
            - Location City|International Falls_1
            - Location City|International Falls_2
      - option: Windows|SCOUT 5.88 R, 0.42 SHGC #AIA2
        apply_logic:
          or:
            - Location City|Albuquerque_1
            - Location City|Albuquerque_2
            - Location City|Port Angeles
            - Location City|Buffalo_1
            - Location City|Buffalo_2
            - Location City|Rochester_1
            - Location City|Rochester_1
      - option: Windows|SCOUT 5.88 R, 0.27 SHGC #AIA3
        apply_logic:
          or:
            - Location City|New York_1
            - Location City|New York_2
            - Location City|Seattle_1
            - Location City|Seattle_2
      - option: Windows|SCOUT 5.88 R, 0.25 SHGC #AIA4 & AIA5
        apply_logic:
          or:
            - Location City|San Diego
            - Location City|Tucson
            - Location City|Atlanta_1
            - Location City|Atlanta_2
            - Location City|Midland_1
            - Location City|Midland_2
            - Location City|Tampa_1
            - Location City|Tampa_2

      #Best foundation:
      - option: Insulation Floor|Ceiling R-30 #AIA1 & AIA12
        apply_logic:
        - or:
            - Insulation Floor|Uninsulated
            - Insulation Floor|Ceiling R-13
            - Insulation Floor|Ceiling R-19
        - or:
            - Location City|Denver_1
            - Location City|Denver_2
            - Location City|Great Falls_1
            - Location City|Great Falls_2
            - Location City|International Falls_1
            - Location City|International Falls_2
            - Location City|Albuquerque_1
            - Location City|Albuquerque_2
            - Location City|Port Angeles
            - Location City|Buffalo_1
            - Location City|Buffalo_2
            - Location City|Rochester_1
            - Location City|Rochester_1
            - Location City|New York_1
            - Location City|New York_2
      - option: Insulation Foundation Wall|Wall R-15, Exterior #AIA1 & AIA12
        apply_logic:
        - or:
            - Insulation Foundation Wall|Uninsulated
            - Insulation Foundation Wall|Wall R-5, Exterior
            - Insulation Foundation Wall|Wall R-10, Exterior
        - or:   
            - Location City|Denver_1
            - Location City|Denver_2
            - Location City|Great Falls_1
            - Location City|Great Falls_2
            - Location City|International Falls_1
            - Location City|International Falls_2
            - Location City|Albuquerque_1
            - Location City|Albuquerque_2
            - Location City|Port Angeles
            - Location City|Buffalo_1
            - Location City|Buffalo_2
            - Location City|Rochester_1
            - Location City|Rochester_1
            - Location City|New York_1
            - Location City|New York_2
   
  ##up8 - package 1h - Smart thermostat (*only homes w/o CAC or ASHP upgrade), envelope (1st)
  - upgrade_name: Package 1h EE smart thermostat & envelope when not upgrading CAC or ASHP
    package_apply_logic:
      not:
        - or:
            - HVAC Heating Efficiency|ASHP, SEER 10, 6.2 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 10.3, 7.0 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 11.5, 7.5 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 13, 7.7 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 13, 8.0 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 14, 8.2 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 14.3, 8.5 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 15, 8.5 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 16, 9.0 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 17, 8.7 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 18, 9.3 HSPF
            - HVAC Cooling Efficiency|AC, SEER 8
            - HVAC Cooling Efficiency|AC, SEER 10
            - HVAC Cooling Efficiency|AC, SEER 13
            - HVAC Cooling Efficiency|AC, SEER 14
            - HVAC Cooling Efficiency|AC, SEER 15
            - HVAC Heating Efficiency|Electric Furnace, 100% AFUE      
    options: 
      #Best smart thermostat
      - option: Cooling Setpoint Apply Offset|Yes
        apply_logic:
          - Cooling Setpoint Has Offset|No
      - option: Heating Setpoint Apply Offset|Yes
        apply_logic:
          - Heating Setpoint Has Offset|No
      # - option: Cooling Setpoint Apply Offset|No
      #   apply_logic:
      #     - Cooling Setpoint Has Offset|Yes
      # - option: Heating Setpoint Apply Offset|No
      #   apply_logic:
      #     - Heating Setpoint Has Offset|Yes
          
      ## Night setback, cooling
      - option: Setback|Night - Cooling #+4
        apply_logic:
          - Weekday Occupancy|Yes
          - not: Cooling Setpoint|80F
          - not: Cooling Setpoint|78F     
      ## Full setback, cooling
      - option: Setback|Full - Cooling #+4 (daytime/unoccupied setback not considered)
        apply_logic:
          - Weekday Occupancy|No
          - not: Cooling Setpoint|80F
          - not: Cooling Setpoint|78F
      ## No setback, cooling
      - option: Setback|None - Cooling #Overwrite default if tsp above threshold
        apply_logic:
          - or:
            - Cooling Setpoint|80F
            - Cooling Setpoint|78F       
      ## Night setback, heating
      - option: Setback|Night - Heating #-8
        apply_logic:
          - Weekday Occupancy|Yes
          - not: Heating Setpoint|55F
          - not: Heating Setpoint|60F
          - not: Heating Setpoint|62F
          - not: Heating Setpoint|65F
          - not: Heating Setpoint|67F
      ## Full setback, heating
      - option: Setback|Full - Heating #-8
        apply_logic:
          - Weekday Occupancy|No
          - not: Heating Setpoint|55F
          - not: Heating Setpoint|60F
          - not: Heating Setpoint|62F
          - not: Heating Setpoint|65F
          - not: Heating Setpoint|67F
      ## No setback, heating
      - option: Setback|None - Heating #Overwrite default if tsp below threshold
        apply_logic:
          - or:
            - Heating Setpoint|55F
            - Heating Setpoint|60F
            - Heating Setpoint|62F
            - Heating Setpoint|65F
            - Heating Setpoint|67F

      ## Best walls
      - option: Insulation Wall|Wood Stud, R-15, R-20 external XPS
        apply_logic:
          or:
            - Insulation Wall|Wood Stud, Uninsulated
            - Insulation Wall|Wood Stud, R-7
            - Insulation Wall|Wood Stud, R-11
            - Insulation Wall|Wood Stud, R-13
            - Insulation Wall|Wood Stud, R-15
      - option: Insulation Wall|Wood Stud, R-19, R-20 external XPS
        apply_logic: Insulation Wall|Wood Stud, R-19
      - option: Insulation Wall|CMU, 6-in Hollow, R-5.5, R-20 XPS
        apply_logic: Insulation Wall|CMU, 6-in Hollow, Uninsulated
      - option: Insulation Wall Upgrade|CMU, R-20 XPS Upgrade
        apply_logic:
          or:
            - Insulation Wall|CMU, 6-in Hollow, R-7
            - Insulation Wall|CMU, 6-in Hollow, R-11
            - Insulation Wall|CMU, 6-in Hollow, R-15
            - Insulation Wall|CMU, 6-in Hollow, R-19
      # Best roofs
      - option: Insulation Ceiling|R-60
        apply_logic: 
          or:
            - Insulation Ceiling|Uninsulated
            - Insulation Ceiling|R-7
            - Insulation Ceiling|R-13
            - Insulation Ceiling|R-19
            - Insulation Ceiling|R-30
            - Insulation Ceiling|R-38
            - Insulation Ceiling|R-49
      # Best air sealing
      - option: Infiltration|1 ACH50
        costs:
          - value: 0
            multiplier: Fixed (1)
        lifetime: 999
      - option: Mechanical Ventilation|Exhaust
        apply_logic: 
            - Mechanical Ventilation|None
        costs: 
          - value: 360
            multiplier: Fixed (1)
        lifetime: 999
      # Best windows
      - option: Windows|SCOUT 5.88 R, 0.49 SHGC #AIA1
        apply_logic:
          or:
            - Location City|Denver_1
            - Location City|Denver_2
            - Location City|Great Falls_1
            - Location City|Great Falls_2
            - Location City|International Falls_1
            - Location City|International Falls_2
      - option: Windows|SCOUT 5.88 R, 0.42 SHGC #AIA2
        apply_logic:
          or:
            - Location City|Albuquerque_1
            - Location City|Albuquerque_2
            - Location City|Port Angeles
            - Location City|Buffalo_1
            - Location City|Buffalo_2
            - Location City|Rochester_1
            - Location City|Rochester_1
      - option: Windows|SCOUT 5.88 R, 0.27 SHGC #AIA3
        apply_logic:
          or:
            - Location City|New York_1
            - Location City|New York_2
            - Location City|Seattle_1
            - Location City|Seattle_2
      - option: Windows|SCOUT 5.88 R, 0.25 SHGC #AIA4 & AIA5
        apply_logic:
          or:
            - Location City|San Diego
            - Location City|Tucson
            - Location City|Atlanta_1
            - Location City|Atlanta_2
            - Location City|Midland_1
            - Location City|Midland_2
            - Location City|Tampa_1
            - Location City|Tampa_2

      #Best foundation:
      - option: Insulation Floor|Ceiling R-30 #AIA1 & AIA12
        apply_logic:
        - or:
            - Insulation Floor|Uninsulated
            - Insulation Floor|Ceiling R-13
            - Insulation Floor|Ceiling R-19
        - or:
            - Location City|Denver_1
            - Location City|Denver_2
            - Location City|Great Falls_1
            - Location City|Great Falls_2
            - Location City|International Falls_1
            - Location City|International Falls_2
            - Location City|Albuquerque_1
            - Location City|Albuquerque_2
            - Location City|Port Angeles
            - Location City|Buffalo_1
            - Location City|Buffalo_2
            - Location City|Rochester_1
            - Location City|Rochester_1
            - Location City|New York_1
            - Location City|New York_2
      - option: Insulation Foundation Wall|Wall R-15, Exterior #AIA1 & AIA12
        apply_logic:
        - or:
            - Insulation Foundation Wall|Uninsulated
            - Insulation Foundation Wall|Wall R-5, Exterior
            - Insulation Foundation Wall|Wall R-10, Exterior
        - or:   
            - Location City|Denver_1
            - Location City|Denver_2
            - Location City|Great Falls_1
            - Location City|Great Falls_2
            - Location City|International Falls_1
            - Location City|International Falls_2
            - Location City|Albuquerque_1
            - Location City|Albuquerque_2
            - Location City|Port Angeles
            - Location City|Buffalo_1
            - Location City|Buffalo_2
            - Location City|Rochester_1
            - Location City|Rochester_1
            - Location City|New York_1
            - Location City|New York_2
    
  ##up9 - package 1j - EE best opaque envelope [component]
  - upgrade_name: package 1j EE best opaque envelope
    options:
      ## Best walls
      - option: Insulation Wall|Wood Stud, R-15, R-20 external XPS
        apply_logic:
          or:
            - Insulation Wall|Wood Stud, Uninsulated
            - Insulation Wall|Wood Stud, R-7
            - Insulation Wall|Wood Stud, R-11
            - Insulation Wall|Wood Stud, R-13
            - Insulation Wall|Wood Stud, R-15
      - option: Insulation Wall|Wood Stud, R-19, R-20 external XPS
        apply_logic: Insulation Wall|Wood Stud, R-19
      - option: Insulation Wall|CMU, 6-in Hollow, R-5.5, R-20 XPS
        apply_logic: Insulation Wall|CMU, 6-in Hollow, Uninsulated
      - option: Insulation Wall Upgrade|CMU, R-20 XPS Upgrade
        apply_logic:
          or:
            - Insulation Wall|CMU, 6-in Hollow, R-7
            - Insulation Wall|CMU, 6-in Hollow, R-11
            - Insulation Wall|CMU, 6-in Hollow, R-15
            - Insulation Wall|CMU, 6-in Hollow, R-19
      # Best roofs
      - option: Insulation Ceiling|R-60
        apply_logic: 
          or:
            - Insulation Ceiling|Uninsulated
            - Insulation Ceiling|R-7
            - Insulation Ceiling|R-13
            - Insulation Ceiling|R-19
            - Insulation Ceiling|R-30
            - Insulation Ceiling|R-38
            - Insulation Ceiling|R-49
      #Best foundation:
      - option: Insulation Floor|Ceiling R-30 #AIA1 & AIA12
        apply_logic:
        - or:
            - Insulation Floor|Uninsulated
            - Insulation Floor|Ceiling R-13
            - Insulation Floor|Ceiling R-19
        - or:
            - Location City|Denver_1
            - Location City|Denver_2
            - Location City|Great Falls_1
            - Location City|Great Falls_2
            - Location City|International Falls_1
            - Location City|International Falls_2
            - Location City|Albuquerque_1
            - Location City|Albuquerque_2
            - Location City|Port Angeles
            - Location City|Buffalo_1
            - Location City|Buffalo_2
            - Location City|Rochester_1
            - Location City|Rochester_1
            - Location City|New York_1
            - Location City|New York_2
      - option: Insulation Foundation Wall|Wall R-15, Exterior #AIA1 & AIA12
        apply_logic:
        - or:
            - Insulation Foundation Wall|Uninsulated
            - Insulation Foundation Wall|Wall R-5, Exterior
            - Insulation Foundation Wall|Wall R-10, Exterior
        - or:   
            - Location City|Denver_1
            - Location City|Denver_2
            - Location City|Great Falls_1
            - Location City|Great Falls_2
            - Location City|International Falls_1
            - Location City|International Falls_2
            - Location City|Albuquerque_1
            - Location City|Albuquerque_2
            - Location City|Port Angeles
            - Location City|Buffalo_1
            - Location City|Buffalo_2
            - Location City|Rochester_1
            - Location City|Rochester_1
            - Location City|New York_1
            - Location City|New York_2
      
  ##up10 - package 1k - EE best air sealing [component]
  - upgrade_name: package 1k EE best air sealing
    options:
      ## Best air sealing
      - option: Infiltration|1 ACH50
        costs:
          - value: 0
            multiplier: Fixed (1)
        lifetime: 999
      - option: Mechanical Ventilation|Exhaust
        apply_logic: 
            - Mechanical Ventilation|None
        costs: 
          - value: 360
            multiplier: Fixed (1)
        lifetime: 999

  ##up11 - package 1m - EE best windows [component]
  - upgrade_name: package 1m EE best windows
    options:
      # Best windows
      - option: Windows|SCOUT 5.88 R, 0.49 SHGC #AIA1
        apply_logic:
          or:
            - Location City|Denver_1
            - Location City|Denver_2
            - Location City|Great Falls_1
            - Location City|Great Falls_2
            - Location City|International Falls_1
            - Location City|International Falls_2
      - option: Windows|SCOUT 5.88 R, 0.42 SHGC #AIA2
        apply_logic:
          or:
            - Location City|Albuquerque_1
            - Location City|Albuquerque_2
            - Location City|Port Angeles
            - Location City|Buffalo_1
            - Location City|Buffalo_2
            - Location City|Rochester_1
            - Location City|Rochester_1
      - option: Windows|SCOUT 5.88 R, 0.27 SHGC #AIA3
        apply_logic:
          or:
            - Location City|New York_1
            - Location City|New York_2
            - Location City|Seattle_1
            - Location City|Seattle_2
      - option: Windows|SCOUT 5.88 R, 0.25 SHGC #AIA4 & AIA5
        apply_logic:
          or:
            - Location City|San Diego
            - Location City|Tucson
            - Location City|Atlanta_1
            - Location City|Atlanta_2
            - Location City|Midland_1
            - Location City|Midland_2
            - Location City|Tampa_1
            - Location City|Tampa_2
   
  ##up12 - package 2 - DR (wh, thermostat, appliance)
  - upgrade_name: package 2 DR only
    options: 
      # Appliance DR
      - option: Appliance DR Apply|Yes

      # Water heater DR
      - option: Water Heater DR Apply|Yes - Tank
        apply_logic:
          - Water Heater Type|Tank
          - Water Heater Fuel|Electricity
      - option: Water Heater DR Apply|Yes - HP
        apply_logic:
          - Water Heater Type|Heat Pump
          - Water Heater Fuel|Electricity
          
      # Thermostat DR (-3..+3)
      - option: Cooling Setpoint Apply Offset|Yes
        apply_logic:
          - not: Cooling Setpoint|60F
          - not: Cooling Setpoint|62F
          - not: Cooling Setpoint|78F
          - not: Cooling Setpoint|80F      
      - option: Heating Setpoint Apply Offset|Yes
        apply_logic:
          - not: Heating Setpoint|55F
          - not: Heating Setpoint|60F
          - not: Heating Setpoint|62F
          - not: Heating Setpoint|78F
          - not: Heating Setpoint|80F 
      - option: ThermoDR|San Diego
        apply_logic: Location City|San Diego
      - option: ThermoDR|Tampa_1
        apply_logic: Location City|Tampa_1
      - option: ThermoDR|Tampa_2
        apply_logic: Location City|Tampa_2
      - option: ThermoDR|Tucson
        apply_logic: Location City|Tucson
      - option: ThermoDR|Albuquerque_1
        apply_logic: Location City|Albuquerque_1
      - option: ThermoDR|Albuquerque_2
        apply_logic: Location City|Albuquerque_2
      - option: ThermoDR|Atlanta_1
        apply_logic: Location City|Atlanta_1
      - option: ThermoDR|Atlanta_2
        apply_logic: Location City|Atlanta_2
      - option: ThermoDR|Seattle_1
        apply_logic: Location City|Seattle_1
      - option: ThermoDR|Seattle_2
        apply_logic: Location City|Seattle_2
      - option: ThermoDR|Great Falls_1
        apply_logic: Location City|Great Falls_1
      - option: ThermoDR|Great Falls_2
        apply_logic: Location City|Great Falls_2
      - option: ThermoDR|Denver_1
        apply_logic: Location City|Denver_1
      - option: ThermoDR|Denver_2
        apply_logic: Location City|Denver_2
      - option: ThermoDR|Buffalo_1
        apply_logic: Location City|Buffalo_1
      - option: ThermoDR|Buffalo_2
        apply_logic: Location City|Buffalo_2
      - option: ThermoDR|New York_1
        apply_logic: Location City|New York_1
      - option: ThermoDR|New York_2
        apply_logic: Location City|New York_2
      - option: ThermoDR|Port Angeles
        apply_logic: Location City|Port Angeles
      - option: ThermoDR|Midland_1
        apply_logic: Location City|Midland_1
      - option: ThermoDR|Midland_2
        apply_logic: Location City|Midland_2
      - option: ThermoDR|International Falls_1
        apply_logic: Location City|International Falls_1
      - option: ThermoDR|International Falls_2
        apply_logic: Location City|International Falls_2
      - option: ThermoDR|Rochester_1
        apply_logic: Location City|Rochester_1
      - option: ThermoDR|Rochester_2
        apply_logic: Location City|Rochester_2

  ##up13 - package 3a - CAC upgrade with pre heating/cooling, smart thermostat, envelope
  - upgrade_name: Package 3a Pre-heating/cooling, smart thermostat, and envelope for CAC upgrades
    package_apply_logic:
      - or:
          - HVAC Cooling Efficiency|AC, SEER 8
          - HVAC Cooling Efficiency|AC, SEER 10
          - HVAC Cooling Efficiency|AC, SEER 13
          - HVAC Cooling Efficiency|AC, SEER 14
          - HVAC Cooling Efficiency|AC, SEER 15
          - HVAC Cooling Efficiency|AC, SEER 18
      - not:
          - HVAC Heating Efficiency|Electric Furnace, 100% AFUE
    options:
      #Best CAC
      - option: HVAC Cooling Efficiency|AC, SEER 24.5
        costs:
          - value: 3200
            multiplier: Fixed (1)
          - value: 42
            multiplier: Size, Cooling System (kBtu/h)
        lifetime: 16
      #smart thermostat (default setbacks from sampling: apply offset=FALSE; DR+Night if weekday occupancy + no setback; DR+Full if not weekday occupancy + no setback; DR Only if has setback; schedules are specific to city in sampling
      - option: Cooling Setpoint Apply Offset|Yes #(-3..+4) Cooling - [DR+Night setback] & [DR+Full setback] (ignore daytime/unoccupied setback comfort)
        apply_logic:
          - not: Cooling Setpoint|80F
          - not: Cooling Setpoint|78F
          - not: Cooling Setpoint|62F
          - not: Cooling Setpoint|60F
          - Cooling Setpoint Has Offset|No
      - option: Cooling Setpoint Apply Offset|Yes #(-3..+3) Cooling - [DR setback only]
        apply_logic:
          - not: Cooling Setpoint|80F
          - not: Cooling Setpoint|78F
          - not: Cooling Setpoint|62F
          - not: Cooling Setpoint|60F
          - Cooling Setpoint Has Offset|Yes
      - option: Heating Setpoint Apply Offset|Yes #(-8..+3) Heating - [DR+Night setback] & [DR+Full setback]
        apply_logic:
          - not: Heating Setpoint|80F
          - not: Heating Setpoint|78F
          - not: Heating Setpoint|67F
          - not: Heating Setpoint|65F 
          - not: Heating Setpoint|62F
          - not: Heating Setpoint|60F      
          - not: Heating Setpoint|55F      
          - Heating Setpoint Has Offset|No
      - option: Heating Setpoint Apply Offset|Yes #(-3..+3) Heating - [DR setback only]
        apply_logic:
          - not: Heating Setpoint|80F
          - not: Heating Setpoint|78F
          - not: Heating Setpoint|62F
          - not: Heating Setpoint|60F   
          - not: Heating Setpoint|55F
          - Heating Setpoint Has Offset|Yes
      
      ##envelope
      ## Best walls
      - option: Insulation Wall|Wood Stud, R-15, R-20 external XPS
        apply_logic:
          or:
            - Insulation Wall|Wood Stud, Uninsulated
            - Insulation Wall|Wood Stud, R-7
            - Insulation Wall|Wood Stud, R-11
            - Insulation Wall|Wood Stud, R-13
            - Insulation Wall|Wood Stud, R-15
      - option: Insulation Wall|Wood Stud, R-19, R-20 external XPS
        apply_logic: Insulation Wall|Wood Stud, R-19
      - option: Insulation Wall|CMU, 6-in Hollow, R-5.5, R-20 XPS
        apply_logic: Insulation Wall|CMU, 6-in Hollow, Uninsulated
      - option: Insulation Wall Upgrade|CMU, R-20 XPS Upgrade
        apply_logic:
          or:
            - Insulation Wall|CMU, 6-in Hollow, R-7
            - Insulation Wall|CMU, 6-in Hollow, R-11
            - Insulation Wall|CMU, 6-in Hollow, R-15
            - Insulation Wall|CMU, 6-in Hollow, R-19
      # Best roofs
      - option: Insulation Ceiling|R-60
        apply_logic: 
          or:
            - Insulation Ceiling|Uninsulated
            - Insulation Ceiling|R-7
            - Insulation Ceiling|R-13
            - Insulation Ceiling|R-19
            - Insulation Ceiling|R-30
            - Insulation Ceiling|R-38
            - Insulation Ceiling|R-49
      #Best air sealing
      - option: Infiltration|1 ACH50
        costs:
          - value: 0
            multiplier: Fixed (1)
        lifetime: 999
      - option: Mechanical Ventilation|Exhaust
        apply_logic: 
            - Mechanical Ventilation|None
        costs: 
          - value: 360
            multiplier: Fixed (1)
        lifetime: 999
      # Best windows
      - option: Windows|SCOUT 5.88 R, 0.49 SHGC #AIA1
        apply_logic:
          or:
            - Location City|Denver_1
            - Location City|Denver_2
            - Location City|Great Falls_1
            - Location City|Great Falls_2
            - Location City|International Falls_1
            - Location City|International Falls_2
      - option: Windows|SCOUT 5.88 R, 0.42 SHGC #AIA2
        apply_logic:
          or:
            - Location City|Albuquerque_1
            - Location City|Albuquerque_2
            - Location City|Port Angeles
            - Location City|Buffalo_1
            - Location City|Buffalo_2
            - Location City|Rochester_1
            - Location City|Rochester_1
      - option: Windows|SCOUT 5.88 R, 0.27 SHGC #AIA3
        apply_logic:
          or:
            - Location City|New York_1
            - Location City|New York_2
            - Location City|Seattle_1
            - Location City|Seattle_2
      - option: Windows|SCOUT 5.88 R, 0.25 SHGC #AIA4 & AIA5
        apply_logic:
          or:
            - Location City|San Diego
            - Location City|Tucson
            - Location City|Atlanta_1
            - Location City|Atlanta_2
            - Location City|Midland_1
            - Location City|Midland_2
            - Location City|Tampa_1
            - Location City|Tampa_2

      #Best foundation:
      - option: Insulation Floor|Ceiling R-30 #AIA1 & AIA12
        apply_logic:
        - or:
            - Insulation Floor|Uninsulated
            - Insulation Floor|Ceiling R-13
            - Insulation Floor|Ceiling R-19
        - or:
            - Location City|Denver_1
            - Location City|Denver_2
            - Location City|Great Falls_1
            - Location City|Great Falls_2
            - Location City|International Falls_1
            - Location City|International Falls_2
            - Location City|Albuquerque_1
            - Location City|Albuquerque_2
            - Location City|Port Angeles
            - Location City|Buffalo_1
            - Location City|Buffalo_2
            - Location City|Rochester_1
            - Location City|Rochester_1
            - Location City|New York_1
            - Location City|New York_2
      - option: Insulation Foundation Wall|Wall R-15, Exterior #AIA1 & AIA12
        apply_logic:
        - or:
            - Insulation Foundation Wall|Uninsulated
            - Insulation Foundation Wall|Wall R-5, Exterior
            - Insulation Foundation Wall|Wall R-10, Exterior
        - or:   
            - Location City|Denver_1
            - Location City|Denver_2
            - Location City|Great Falls_1
            - Location City|Great Falls_2
            - Location City|International Falls_1
            - Location City|International Falls_2
            - Location City|Albuquerque_1
            - Location City|Albuquerque_2
            - Location City|Port Angeles
            - Location City|Buffalo_1
            - Location City|Buffalo_2
            - Location City|Rochester_1
            - Location City|Rochester_1
            - Location City|New York_1
            - Location City|New York_2
 
  ##up14 - package 3b - ASHP upgrade with pre heating/cooling, smart thermostat, envelope
  - upgrade_name: Package 3b Pre-heating/cooling, smart thermostat, and envelope for ASHP upgrades
    package_apply_logic: #same as 1b
      or:
          - HVAC Heating Efficiency|ASHP, SEER 10, 6.2 HSPF
          - HVAC Heating Efficiency|ASHP, SEER 10.3, 7.0 HSPF
          - HVAC Heating Efficiency|ASHP, SEER 11.5, 7.5 HSPF
          - HVAC Heating Efficiency|ASHP, SEER 13, 7.7 HSPF
          - HVAC Heating Efficiency|ASHP, SEER 13, 8.0 HSPF
          - HVAC Heating Efficiency|ASHP, SEER 14, 8.2 HSPF
          - HVAC Heating Efficiency|ASHP, SEER 14.3, 8.5 HSPF
          - HVAC Heating Efficiency|ASHP, SEER 15, 8.5 HSPF
          - HVAC Heating Efficiency|ASHP, SEER 16, 9.0 HSPF
          - HVAC Heating Efficiency|ASHP, SEER 17, 8.7 HSPF
          - HVAC Heating Efficiency|ASHP, SEER 18, 9.3 HSPF
          - HVAC Heating Efficiency|Electric Furnace, 100% AFUE  
    options:
      - option: HVAC Heating Efficiency|ASHP, SEER 22, 10 HSPF
        costs:
          - value: 4200
            multiplier: Fixed (1)
          - value: 42
            multiplier: Size, Heating System (kBtu/h)
        lifetime: 15
      #smart thermostat (default setbacks from sampling: apply offset=FALSE; DR+Night if weekday occupancy + no setback; DR+Full if not weekday occupancy + no setback; DR Only if has setback; schedules are specific to city in sampling
      - option: Cooling Setpoint Apply Offset|Yes #(-3..+4) Cooling - [DR+Night setback] & [DR+Full setback] (ignore daytime/unoccupied setback comfort)
        apply_logic:
          - not: Cooling Setpoint|80F
          - not: Cooling Setpoint|78F
          - not: Cooling Setpoint|62F
          - not: Cooling Setpoint|60F
          - Cooling Setpoint Has Offset|No
      - option: Cooling Setpoint Apply Offset|Yes #(-3..+3) Cooling - [DR setback only]
        apply_logic:
          - not: Cooling Setpoint|80F
          - not: Cooling Setpoint|78F
          - not: Cooling Setpoint|62F
          - not: Cooling Setpoint|60F
          - Cooling Setpoint Has Offset|Yes
      - option: Heating Setpoint Apply Offset|Yes #(-8..+3) Heating - [DR+Night setback] & [DR+Full setback]
        apply_logic:
          - not: Heating Setpoint|80F
          - not: Heating Setpoint|78F
          - not: Heating Setpoint|67F
          - not: Heating Setpoint|65F 
          - not: Heating Setpoint|62F
          - not: Heating Setpoint|60F
          - not: Heating Setpoint|55F      
          - Heating Setpoint Has Offset|No
      - option: Heating Setpoint Apply Offset|Yes #(-3..+3) Heating - [DR setback only]
        apply_logic:
          - not: Heating Setpoint|80F
          - not: Heating Setpoint|78F
          - not: Heating Setpoint|62F
          - not: Heating Setpoint|60F
          - not: Heating Setpoint|55F   
          - Heating Setpoint Has Offset|Yes 
          
      #envelope
      ## Best walls
      - option: Insulation Wall|Wood Stud, R-15, R-20 external XPS
        apply_logic:
          or:
            - Insulation Wall|Wood Stud, Uninsulated
            - Insulation Wall|Wood Stud, R-7
            - Insulation Wall|Wood Stud, R-11
            - Insulation Wall|Wood Stud, R-13
            - Insulation Wall|Wood Stud, R-15
      - option: Insulation Wall|Wood Stud, R-19, R-20 external XPS
        apply_logic: Insulation Wall|Wood Stud, R-19
      - option: Insulation Wall|CMU, 6-in Hollow, R-5.5, R-20 XPS
        apply_logic: Insulation Wall|CMU, 6-in Hollow, Uninsulated
      - option: Insulation Wall Upgrade|CMU, R-20 XPS Upgrade
        apply_logic:
          or:
            - Insulation Wall|CMU, 6-in Hollow, R-7
            - Insulation Wall|CMU, 6-in Hollow, R-11
            - Insulation Wall|CMU, 6-in Hollow, R-15
            - Insulation Wall|CMU, 6-in Hollow, R-19
      # Best roofs
      - option: Insulation Ceiling|R-60
        apply_logic: 
          or:
            - Insulation Ceiling|Uninsulated
            - Insulation Ceiling|R-7
            - Insulation Ceiling|R-13
            - Insulation Ceiling|R-19
            - Insulation Ceiling|R-30
            - Insulation Ceiling|R-38
            - Insulation Ceiling|R-49
      #Best air sealing
      - option: Infiltration|1 ACH50
        costs:
          - value: 0
            multiplier: Fixed (1)
        lifetime: 999
      - option: Mechanical Ventilation|Exhaust
        apply_logic: 
            - Mechanical Ventilation|None
        costs: 
          - value: 360
            multiplier: Fixed (1)
        lifetime: 999
      # Best windows
      - option: Windows|SCOUT 5.88 R, 0.49 SHGC #AIA1
        apply_logic:
          or:
            - Location City|Denver_1
            - Location City|Denver_2
            - Location City|Great Falls_1
            - Location City|Great Falls_2
            - Location City|International Falls_1
            - Location City|International Falls_2
      - option: Windows|SCOUT 5.88 R, 0.42 SHGC #AIA2
        apply_logic:
          or:
            - Location City|Albuquerque_1
            - Location City|Albuquerque_2
            - Location City|Port Angeles
            - Location City|Buffalo_1
            - Location City|Buffalo_2
            - Location City|Rochester_1
            - Location City|Rochester_1
      - option: Windows|SCOUT 5.88 R, 0.27 SHGC #AIA3
        apply_logic:
          or:
            - Location City|New York_1
            - Location City|New York_2
            - Location City|Seattle_1
            - Location City|Seattle_2
      - option: Windows|SCOUT 5.88 R, 0.25 SHGC #AIA4 & AIA5
        apply_logic:
          or:
            - Location City|San Diego
            - Location City|Tucson
            - Location City|Atlanta_1
            - Location City|Atlanta_2
            - Location City|Midland_1
            - Location City|Midland_2
            - Location City|Tampa_1
            - Location City|Tampa_2

      #Best foundation:
      - option: Insulation Floor|Ceiling R-30 #AIA1 & AIA12
        apply_logic:
        - or:
            - Insulation Floor|Uninsulated
            - Insulation Floor|Ceiling R-13
            - Insulation Floor|Ceiling R-19
        - or:
            - Location City|Denver_1
            - Location City|Denver_2
            - Location City|Great Falls_1
            - Location City|Great Falls_2
            - Location City|International Falls_1
            - Location City|International Falls_2
            - Location City|Albuquerque_1
            - Location City|Albuquerque_2
            - Location City|Port Angeles
            - Location City|Buffalo_1
            - Location City|Buffalo_2
            - Location City|Rochester_1
            - Location City|Rochester_1
            - Location City|New York_1
            - Location City|New York_2
      - option: Insulation Foundation Wall|Wall R-15, Exterior #AIA1 & AIA12
        apply_logic:
        - or:
            - Insulation Foundation Wall|Uninsulated
            - Insulation Foundation Wall|Wall R-5, Exterior
            - Insulation Foundation Wall|Wall R-10, Exterior
        - or:   
            - Location City|Denver_1
            - Location City|Denver_2
            - Location City|Great Falls_1
            - Location City|Great Falls_2
            - Location City|International Falls_1
            - Location City|International Falls_2
            - Location City|Albuquerque_1
            - Location City|Albuquerque_2
            - Location City|Port Angeles
            - Location City|Buffalo_1
            - Location City|Buffalo_2
            - Location City|Rochester_1
            - Location City|Rochester_1
            - Location City|New York_1
            - Location City|New York_2
 
  ##up15 - package 3c - No CAC/ASHP upgrade, with pre heating/cooling, smart thermostat, envelope
  - upgrade_name: Package 3c Pre-heating/cooling, smart thermostat, and envelope for no HVAC upgrades
    package_apply_logic:
      not:
        - or:
            - HVAC Heating Efficiency|ASHP, SEER 10, 6.2 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 10.3, 7.0 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 11.5, 7.5 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 13, 7.7 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 13, 8.0 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 14, 8.2 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 14.3, 8.5 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 15, 8.5 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 16, 9.0 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 17, 8.7 HSPF
            - HVAC Heating Efficiency|ASHP, SEER 18, 9.3 HSPF
            - HVAC Cooling Efficiency|AC, SEER 8
            - HVAC Cooling Efficiency|AC, SEER 10
            - HVAC Cooling Efficiency|AC, SEER 13
            - HVAC Cooling Efficiency|AC, SEER 14
            - HVAC Cooling Efficiency|AC, SEER 15
            - HVAC Heating Efficiency|Electric Furnace, 100% AFUE
    options:      
      #smart thermostat (default setbacks from sampling: apply offset=FALSE; DR+Night if weekday occupancy + no setback; DR+Full if not weekday occupancy + no setback; DR Only if has setback; schedules are specific to city in sampling
      - option: Cooling Setpoint Apply Offset|Yes #(-3..+4) Cooling - [DR+Night setback] & [DR+Full setback] (ignore daytime/unoccupied setback comfort)
        apply_logic:
          - not: Cooling Setpoint|80F
          - not: Cooling Setpoint|78F
          - not: Cooling Setpoint|62F
          - not: Cooling Setpoint|60F
          - Cooling Setpoint Has Offset|No
      - option: Cooling Setpoint Apply Offset|Yes #(-3..+3) Cooling - [DR setback only]
        apply_logic:
          - not: Cooling Setpoint|80F
          - not: Cooling Setpoint|78F
          - not: Cooling Setpoint|62F
          - not: Cooling Setpoint|60F
          - Cooling Setpoint Has Offset|Yes
      - option: Heating Setpoint Apply Offset|Yes #(-8..+3) Heating - [DR+Night setback] & [DR+Full setback]
        apply_logic:
          - not: Heating Setpoint|80F
          - not: Heating Setpoint|78F
          - not: Heating Setpoint|67F
          - not: Heating Setpoint|65F 
          - not: Heating Setpoint|62F
          - not: Heating Setpoint|60F
          - not: Heating Setpoint|55F      
          - Heating Setpoint Has Offset|No
      - option: Heating Setpoint Apply Offset|Yes #(-3..+3) Heating - [DR setback only]
        apply_logic:
          - not: Heating Setpoint|80F
          - not: Heating Setpoint|78F
          - not: Heating Setpoint|62F
          - not: Heating Setpoint|60F
          - not: Heating Setpoint|55F
          - Heating Setpoint Has Offset|Yes    
          
      #envelope
      ## Best walls
      - option: Insulation Wall|Wood Stud, R-15, R-20 external XPS
        apply_logic:
          or:
            - Insulation Wall|Wood Stud, Uninsulated
            - Insulation Wall|Wood Stud, R-7
            - Insulation Wall|Wood Stud, R-11
            - Insulation Wall|Wood Stud, R-13
            - Insulation Wall|Wood Stud, R-15
      - option: Insulation Wall|Wood Stud, R-19, R-20 external XPS
        apply_logic: Insulation Wall|Wood Stud, R-19
      - option: Insulation Wall|CMU, 6-in Hollow, R-5.5, R-20 XPS
        apply_logic: Insulation Wall|CMU, 6-in Hollow, Uninsulated
      - option: Insulation Wall Upgrade|CMU, R-20 XPS Upgrade
        apply_logic:
          or:
            - Insulation Wall|CMU, 6-in Hollow, R-7
            - Insulation Wall|CMU, 6-in Hollow, R-11
            - Insulation Wall|CMU, 6-in Hollow, R-15
            - Insulation Wall|CMU, 6-in Hollow, R-19
      # Best roofs
      - option: Insulation Ceiling|R-60
        apply_logic: 
          or:
            - Insulation Ceiling|Uninsulated
            - Insulation Ceiling|R-7
            - Insulation Ceiling|R-13
            - Insulation Ceiling|R-19
            - Insulation Ceiling|R-30
            - Insulation Ceiling|R-38
            - Insulation Ceiling|R-49
      ## Best air sealing
      - option: Infiltration|1 ACH50
        costs:
          - value: 0
            multiplier: Fixed (1)
        lifetime: 999
      - option: Mechanical Ventilation|Exhaust
        apply_logic: 
            - Mechanical Ventilation|None
        costs: 
          - value: 360
            multiplier: Fixed (1)
        lifetime: 999
      # Best windows
      - option: Windows|SCOUT 5.88 R, 0.49 SHGC #AIA1
        apply_logic:
          or:
            - Location City|Denver_1
            - Location City|Denver_2
            - Location City|Great Falls_1
            - Location City|Great Falls_2
            - Location City|International Falls_1
            - Location City|International Falls_2
      - option: Windows|SCOUT 5.88 R, 0.42 SHGC #AIA2
        apply_logic:
          or:
            - Location City|Albuquerque_1
            - Location City|Albuquerque_2
            - Location City|Port Angeles
            - Location City|Buffalo_1
            - Location City|Buffalo_2
            - Location City|Rochester_1
            - Location City|Rochester_1
      - option: Windows|SCOUT 5.88 R, 0.27 SHGC #AIA3
        apply_logic:
          or:
            - Location City|New York_1
            - Location City|New York_2
            - Location City|Seattle_1
            - Location City|Seattle_2
      - option: Windows|SCOUT 5.88 R, 0.25 SHGC #AIA4 & AIA5
        apply_logic:
          or:
            - Location City|San Diego
            - Location City|Tucson
            - Location City|Atlanta_1
            - Location City|Atlanta_2
            - Location City|Midland_1
            - Location City|Midland_2
            - Location City|Tampa_1
            - Location City|Tampa_2

      #Best foundation:
      - option: Insulation Floor|Ceiling R-30 #AIA1 & AIA12
        apply_logic:
        - or:
            - Insulation Floor|Uninsulated
            - Insulation Floor|Ceiling R-13
            - Insulation Floor|Ceiling R-19
        - or:
            - Location City|Denver_1
            - Location City|Denver_2
            - Location City|Great Falls_1
            - Location City|Great Falls_2
            - Location City|International Falls_1
            - Location City|International Falls_2
            - Location City|Albuquerque_1
            - Location City|Albuquerque_2
            - Location City|Port Angeles
            - Location City|Buffalo_1
            - Location City|Buffalo_2
            - Location City|Rochester_1
            - Location City|Rochester_1
            - Location City|New York_1
            - Location City|New York_2
      - option: Insulation Foundation Wall|Wall R-15, Exterior #AIA1 & AIA12
        apply_logic:
        - or:
            - Insulation Foundation Wall|Uninsulated
            - Insulation Foundation Wall|Wall R-5, Exterior
            - Insulation Foundation Wall|Wall R-10, Exterior
        - or:   
            - Location City|Denver_1
            - Location City|Denver_2
            - Location City|Great Falls_1
            - Location City|Great Falls_2
            - Location City|International Falls_1
            - Location City|International Falls_2
            - Location City|Albuquerque_1
            - Location City|Albuquerque_2
            - Location City|Port Angeles
            - Location City|Buffalo_1
            - Location City|Buffalo_2
            - Location City|Rochester_1
            - Location City|Rochester_1
            - Location City|New York_1
            - Location City|New York_2
  
  ##up16 - package 3d - Appliance EE + DR
  - upgrade_name: package 3d appliance EE+DR
    options: 
      #Best LEDs
      - option: Lighting|100% LED
        apply_logic:
          or:
            - Lighting|100% Incandescent
            - Lighting|60% CFL
            - Lighting|100% CFL
            - Lighting|20% LED
      # Best Refrigerator
      - option: Refrigerator|EF 21.9, 95% Usage
        apply_logic: 
          or:
            - Refrigerator|EF 17.6, 95% Usage
            - Refrigerator|EF 15.9, 95% Usage
            - Refrigerator|EF 10.5, 95% Usage
            - Refrigerator|EF 10.2, 95% Usage
            - Refrigerator|EF 6.7, 95% Usage
      - option: Refrigerator|EF 21.9, 100% Usage
        apply_logic: 
          or:
            - Refrigerator|EF 17.6, 100% Usage
            - Refrigerator|EF 15.9, 100% Usage
            - Refrigerator|EF 10.5, 100% Usage
            - Refrigerator|EF 10.2, 100% Usage
            - Refrigerator|EF 6.7, 100% Usage
      - option: Refrigerator|EF 21.9, 105% Usage
        apply_logic: 
          or:
            - Refrigerator|EF 17.6, 105% Usage
            - Refrigerator|EF 15.9, 105% Usage
            - Refrigerator|EF 10.5, 105% Usage
            - Refrigerator|EF 10.2, 105% Usage
            - Refrigerator|EF 6.7, 105% Usage
      # Best HPWH
      - option: Water Heater Efficiency|Electric Heat Pump, 80 gal, Upgrade
        apply_logic: 
          or:
            - Water Heater Efficiency|Electric Standard
            - Water Heater Efficiency|Electric Premium
            - Water Heater Efficiency|Electric Benchmark
        costs:
          - value: 0
            multiplier: Fixed (1)
        lifetime: 12
      # Best clothes washer
      - option: Clothes Washer|EnergyStar Most Efficient, 80% Usage
        apply_logic:
          or:
            - Clothes Washer|EnergyStar, 80% Usage
            - Clothes Washer|Standard, 80% Usage
        costs:
          - value: 0
            multiplier: Fixed (1)
        lifetime: 999
      - option: Clothes Washer|EnergyStar Most Efficient, 100% Usage
        apply_logic:
          or:
            - Clothes Washer|EnergyStar, 100% Usage
            - Clothes Washer|Standard, 100% Usage
            - Clothes Washer|Standard, 100% Usage, Cold Only
            - Clothes Washer|EnergyStar, Cold Only
        costs:
          - value: 0
            multiplier: Fixed (1)
        lifetime: 999
      - option: Clothes Washer|EnergyStar Most Efficient, 120% Usage
        apply_logic:
          or:
            - Clothes Washer|EnergyStar, 120% Usage
            - Clothes Washer|Standard, 120% Usage
        costs:
          - value: 0
            multiplier: Fixed (1)
        lifetime: 999
      
      # Best clothes dryer
      - option: Clothes Dryer|Electric, Heat Pump, Ventless, 80% Usage
        apply_logic:
          or:
            - Clothes Dryer|Electric, 80% Usage
        costs:
          - value: 0
            multiplier: Fixed (1)
        lifetime: 999
      - option: Clothes Dryer|Electric, Heat Pump, Ventless, 100% Usage
        apply_logic:
          or:
            - Clothes Dryer|Electric, 100% Usage
        costs:
          - value: 0
            multiplier: Fixed (1)
        lifetime: 999
      - option: Clothes Dryer|Electric, Heat Pump, Ventless, 120% Usage
        apply_logic:
          or:
            - Clothes Dryer|Electric, 120% Usage
        costs:
          - value: 0
            multiplier: Fixed (1)
        lifetime: 999
      
      # Best dishwasher
      - option: Dishwasher|144 Rated kWh, 80% Usage
        apply_logic: 
          or:
            - Dishwasher|318 Rated kWh, 80% Usage
            - Dishwasher|290 Rated kWh, 80% Usage
        costs:
          - value: 1000
            multiplier: Fixed (1)
        lifetime: 11
      - option: Dishwasher|144 Rated kWh, 100% Usage
        apply_logic: 
          or:
            - Dishwasher|318 Rated kWh, 100% Usage
            - Dishwasher|290 Rated kWh, 100% Usage
        costs:
          - value: 1000
            multiplier: Fixed (1)
        lifetime: 11
      - option: Dishwasher|144 Rated kWh, 120% Usage
        apply_logic: 
          or:
            - Dishwasher|318 Rated kWh, 120% Usage
            - Dishwasher|290 Rated kWh, 120% Usage
        costs:
          - value: 0
            multiplier: Fixed (1)
        lifetime: 11
      
      #Best pool pump
      - option: Misc Pool Pump|0.75 HP Pump
        apply_logic: Misc Pool Pump|1.0 HP Pump
        costs:
          - value: 0
            multiplier: Fixed (1)
        lifetime: 999

      #Best electronics
      - option: Plug Load Shed|25%

      # Appliance DR measures
      - option: Appliance DR Apply|Yes
      # Water heater DR
      - option: Water Heater DR Apply|Yes - Tank
        apply_logic:
          - Water Heater Type|Tank
          - Water Heater Fuel|Electricity
      - option: Water Heater DR Apply|Yes - HP
        apply_logic:
          - Water Heater Type|Heat Pump
          - Water Heater Fuel|Electricity
