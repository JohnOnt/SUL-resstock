schema_version: '0.3'
os_version: 3.5.1
os_sha: 22e1db7be5
buildstock_directory: ../ # Relative to this file or absolute
project_directory: project_national # Relative to buildstock_directory
output_directory: /scratch/pwhite/seto_year_2/tarrant/baseline_tmy
# weather_files_url: https://data.nrel.gov/system/files/156/BuildStock_TMY3_FIPS.zip
weather_files_path: /shared-projects/buildstock/weather/BuildStock_TMY3_FIPS.zip

sampler:
  type: residential_quota_downselect
  args:
    n_datapoints: 1000
    logic:
      - Geometry Building Type RECS|Single-Family Detached
      - Vacancy Status|Occupied
      - County|TX, Tarrant County
    resample: true

workflow_generator:
  type: residential_hpxml
  args:
    build_existing_model:
      simulation_control_timestep: 60
      simulation_control_run_period_begin_month: 1
      simulation_control_run_period_begin_day_of_month: 1
      simulation_control_run_period_end_month: 12
      simulation_control_run_period_end_day_of_month: 31
      simulation_control_run_period_calendar_year: 2007

    emissions:
      - scenario_name: LRMER_MidCase_15
        type: CO2e
        elec_folder: data/cambium/LRMER_MidCase_15

    utility_bills:
      - scenario_name: Bills

    simulation_output_report:
      timeseries_frequency: hourly
      include_timeseries_total_consumptions: true
      include_timeseries_fuel_consumptions: true
      include_timeseries_end_use_consumptions: true
      include_timeseries_emissions: true
      include_timeseries_total_loads: true

    reporting_measures:
      - measure_dir_name: QOIReport

    server_directory_cleanup:
      retain_in_idf: false
      retain_schedules_csv: false

baseline:
  n_buildings_represented: 136569411 # American Community Survey 2019 5-year, B25001, does not include AK, HI, and territories

upgrades:

  - upgrade_name: High Eff HP ACCA Enhanced Envelope  # Bundle #10 Variant B
    #Up03
    options:
      #package 2
      - *attic_insulation_IECC_CZ1A
      - *attic_insulation_IECC_CZ2A-2B-3A-3B-3C
      - *attic_insulation_IECC_CZ4A-4B-4C-5A-5B-6A-6B-7A-7B
      - *infiltration_30pct_reduction
      - *ducts_category1
      - *ducts_category2
      - *ducts_category3
      - *ducts_category4
      #- *ducts_category5
      #- *ducts_category6
      - *ducts_category7
      - *Drill-and-fill
      - *foundation_wall_insulation
      - *seal_vented_crawlspaces 
      - *roof_insulation_to_R30
      - *foundation_wall_insulation_finished_basement
      - *rim_joist_insulation

      #ducted MSHP (using a ducted MSHP rather than ASHP to achieve high efficiency)
      - option: HVAC Heating Efficiency|MSHP, SEER 24, 13 HSPF, Ducted # Base version, might need a "ducted" version once that change to develop is merged, behavior will not be different
        apply_logic: *ducted_higheff_HP_all_fuel_apply_logic
        costs: *costs_mshp_ducted_SEER_24_13_HSPF
        lifetime: *lifetime_mshp_ducted_SEER_24_13_HSPF
      # - *apply_ducted_heat_pump_heating_type

    #all electric from the start
  # - upgrade_name: Dual-System Electric Baseboard MSHP
      - option: HVAC Heating Efficiency|Dual-System MSHP, SEER 29.3, 14 HSPF, Separate Backup
        apply_logic: *dual-system_elec_baseboard_apply_logic
        costs: *costs_mshp_ductless_SEER_29_14_HSPF
        lifetime: *lifetime_mshp_ductless_SEER_29_14_HSPF
      - option: HVAC Secondary Heating Efficiency|Electric Baseboard, 100% Efficiency
        apply_logic: *dual-system_elec_baseboard_apply_logic
      - option: HVAC Secondary Heating Type And Fuel|Electricity Baseboard
        apply_logic: *dual-system_elec_baseboard_apply_logic
  # - upgrade_name: Dual-System Electric Boiler MSHP
      - option: HVAC Heating Efficiency|Dual-System MSHP, SEER 29.3, 14 HSPF, Separate Backup
        apply_logic: *dual-system_elec_boiler_apply_logic
        costs: *costs_mshp_ductless_SEER_29_14_HSPF
        lifetime: *lifetime_mshp_ductless_SEER_29_14_HSPF
      - option: HVAC Secondary Heating Efficiency|Electric Boiler, 100% AFUE
        apply_logic: *dual-system_elec_boiler_apply_logic
      - option: HVAC Secondary Heating Type And Fuel|Electricity Electric Boiler
        apply_logic: *dual-system_elec_boiler_apply_logic
  # - upgrade_name: Dual-System Electric Wall Furnace MSHP
      - option: HVAC Heating Efficiency|Dual-System MSHP, SEER 29.3, 14 HSPF, Separate Backup
        apply_logic: *dual-system_elec_wall_furnace_apply_logic
        costs: *costs_mshp_ductless_SEER_29_14_HSPF
        lifetime: *lifetime_mshp_ductless_SEER_29_14_HSPF
      - option: HVAC Secondary Heating Efficiency|Electric Wall Furnace, 100% AFUE
        apply_logic: *dual-system_elec_wall_furnace_apply_logic
      - option: HVAC Secondary Heating Type And Fuel|Electricity Electric Wall Furnace
        apply_logic: *dual-system_elec_wall_furnace_apply_logic
    # Existing MSHP upgraded
      - option: HVAC Heating Efficiency|MSHP, SEER 29.3, 14 HSPF
        apply_logic: *MSHP_upgrade_apply_logic
        costs: *costs_mshp_ductless_SEER_29_14_HSPF
        lifetime: *lifetime_mshp_ductless_SEER_29_14_HSPF
# Dual-Fuel (use existing separate backup)
  # Set heat pump option
  # MSHP (no ducts)
      - option: HVAC Heating Efficiency|Dual-Fuel MSHP, SEER 29.3, 14 HSPF, Separate Backup
        apply_logic: *dual-fuel_ductlessMSHP_nonshared_heating_apply_logic         
        costs: *costs_mshp_ductless_SEER_29_14_HSPF
        lifetime: *lifetime_mshp_ductless_SEER_29_14_HSPF
 
  # Boilers as secondary systems
  # Set secondary boiler fuel type
      - option: HVAC Secondary Heating Type And Fuel|Natural Gas Fuel Boiler
        apply_logic: *secondary_natural_gas_fuel_boiler
      - option: HVAC Secondary Heating Type And Fuel|Propane Fuel Boiler
        apply_logic: *secondary_propane_fuel_boiler
      - option: HVAC Secondary Heating Type And Fuel|Fuel Oil Fuel Boiler
        apply_logic: *secondary_fuel_oil_fuel_boiler
  # Set secondary fuel boiler efficiency levels
      - option: HVAC Secondary Heating Efficiency|Fuel Boiler, 72% AFUE
        apply_logic: *secondary_72_eff_boiler
      - option: HVAC Secondary Heating Efficiency|Fuel Boiler, 76% AFUE
        apply_logic: *secondary_76_eff_boiler
      - option: HVAC Secondary Heating Efficiency|Fuel Boiler, 80% AFUE
        apply_logic: *secondary_80_eff_boiler
      - option: HVAC Secondary Heating Efficiency|Fuel Boiler, 82% AFUE
        apply_logic: *secondary_82_eff_boiler
      - option: HVAC Secondary Heating Efficiency|Fuel Boiler, 85% AFUE
        apply_logic: *secondary_85_eff_boiler
      - option: HVAC Secondary Heating Efficiency|Fuel Boiler, 90% AFUE
        apply_logic: *secondary_90_eff_boiler
      - option: HVAC Secondary Heating Efficiency|Fuel Boiler, 95% AFUE, OAT Reset
        apply_logic: *secondary_95_eff_boiler
      - option: HVAC Secondary Heating Efficiency|Fuel Boiler, 96% AFUE
        apply_logic: *secondary_96_eff_boiler

  # Wall/Floor Furnace as secondary systems
  # Set secondary Wall/Floor Furnace fuel type
      - option: HVAC Secondary Heating Type And Fuel|Natural Gas Fuel Wall/Floor Furnace
        apply_logic: *secondary_ng_wall_floor
      - option: HVAC Secondary Heating Type And Fuel|Propane Fuel Wall/Floor Furnace
        apply_logic: *secondary_propane_wall_floor
      - option: HVAC Secondary Heating Type And Fuel|Fuel Oil Fuel Wall/Floor Furnace
        apply_logic: *secondary_fuel_oil_wall_floor
  # Set secondary fuel Wall/Floor Furnace efficiency levels
      - option: HVAC Secondary Heating Efficiency|Fuel Wall/Floor Furnace, 60% AFUE
        apply_logic: *secondary_60_eff_wall_floor
      - option: HVAC Secondary Heating Efficiency|Fuel Wall/Floor Furnace, 68% AFUE
        apply_logic: *secondary_68_eff_wall_floor
        
  # MSHP Max Load separate backup for fossil fuels, full replacement for electric
      - option: HVAC Heating Efficiency|Dual-Fuel MSHP, SEER 29.3, 14 HSPF, Separate Backup
        apply_logic: *dual-fuel_ductless_shared_apply_logic
        costs: *costs_mshp_ductless_SEER_29_14_HSPF
        lifetime: *lifetime_mshp_ductless_SEER_29_14_HSPF
      - option: HVAC Heating Efficiency|MSHP, SEER 29.3, 14 HSPF
        apply_logic: *dual-system_ductless_shared_apply_logic           
        costs: *costs_mshp_ductless_SEER_29_14_HSPF
        lifetime: *lifetime_mshp_ductless_SEER_29_14_HSPF


  # Shared Heating as secondary systems for dwellings
  # Set secondary shared system fuel type
      - option: HVAC Secondary Heating Type And Fuel|Natural Gas Shared Heating
        apply_logic: *secondary_ng_shared      
      - option: HVAC Secondary Heating Type And Fuel|Propane Shared Heating
        apply_logic: *secondary_propane_shared
      - option: HVAC Secondary Heating Type And Fuel|Fuel Oil Shared Heating
        apply_logic: *secondary_fuel_oil_shared

  # Set secondary shared system efficiency levels for dwellings with no ducts
      - option: HVAC Secondary Heating Efficiency|Boiler Baseboards Heating Only, Natural Gas
        apply_logic: *secondary_boiler_baseboard_ng
      - option: HVAC Secondary Heating Efficiency|Boiler Baseboards Heating Only, Propane
        apply_logic: *secondary_boiler_baseboard_propane
      - option: HVAC Secondary Heating Efficiency|Boiler Baseboards Heating Only, Fuel Oil
        apply_logic: *secondary_boiler_baseboard_fuel_oil

#global
      - option: HVAC Cooling Efficiency|Heat Pump # Applied regardless of which option is applied
        apply_logic:
          or:
            - *dual-system_elec_baseboard_apply_logic
            - *dual-system_elec_boiler_apply_logic
            - *dual-system_elec_wall_furnace_apply_logic
            - *MSHP_upgrade_apply_logic
            - *dual-fuel_ductlessMSHP_nonshared_heating_apply_logic
            - *dual-fuel_ductless_shared_apply_logic
            - *dual-system_ductless_shared_apply_logic
            - *ducted_higheff_HP_all_fuel_apply_logic


  - upgrade_name: High Eff HP Max Load Enhanced Envelope  # Bundle #10 Variant D
    #Up03
    options:

      #package 2
      - *attic_insulation_IECC_CZ1A
      - *attic_insulation_IECC_CZ2A-2B-3A-3B-3C
      - *attic_insulation_IECC_CZ4A-4B-4C-5A-5B-6A-6B-7A-7B
      - *infiltration_30pct_reduction
      - *ducts_category1
      - *ducts_category2
      - *ducts_category3
      - *ducts_category4
      #- *ducts_category5
      #- *ducts_category6
      - *ducts_category7
      - *Drill-and-fill
      - *foundation_wall_insulation
      - *seal_vented_crawlspaces 
      - *roof_insulation_to_R30
      - *foundation_wall_insulation_finished_basement
      - *rim_joist_insulation

      #ducted MSHP (using a ducted MSHP rather than ASHP to achieve high efficiency)
      - option: HVAC Heating Efficiency|MSHP, SEER 24, 13 HSPF, Ducted, Max Load # Base version, might need a "ducted" version once that change to develop is merged, behavior will not be different
        apply_logic: *ducted_higheff_HP_all_fuel_apply_logic
        costs: *costs_mshp_ducted_SEER_24_13_HSPF
        lifetime: *lifetime_mshp_ducted_SEER_24_13_HSPF
      # - *apply_ducted_heat_pump_heating_type


    #all electric from the start
  # - upgrade_name: Dual-System Electric Baseboard MSHP
      - option: HVAC Heating Efficiency|Dual-System MSHP, SEER 29.3, 14 HSPF, Separate Backup, Max Load
        apply_logic: *dual-system_elec_baseboard_apply_logic
        costs: *costs_mshp_ductless_SEER_29_14_HSPF
        lifetime: *lifetime_mshp_ductless_SEER_29_14_HSPF
      - option: HVAC Secondary Heating Efficiency|Electric Baseboard, 100% Efficiency
        apply_logic: *dual-system_elec_baseboard_apply_logic
      - option: HVAC Secondary Heating Type And Fuel|Electricity Baseboard
        apply_logic: *dual-system_elec_baseboard_apply_logic
  # - upgrade_name: Dual-System Electric Boiler MSHP
      - option: HVAC Heating Efficiency|Dual-System MSHP, SEER 29.3, 14 HSPF, Separate Backup, Max Load
        apply_logic: *dual-system_elec_boiler_apply_logic
        costs: *costs_mshp_ductless_SEER_29_14_HSPF
        lifetime: *lifetime_mshp_ductless_SEER_29_14_HSPF
      - option: HVAC Secondary Heating Efficiency|Electric Boiler, 100% AFUE
        apply_logic: *dual-system_elec_boiler_apply_logic
      - option: HVAC Secondary Heating Type And Fuel|Electricity Electric Boiler
        apply_logic: *dual-system_elec_boiler_apply_logic
  # - upgrade_name: Dual-System Electric Wall Furnace MSHP
      - option: HVAC Heating Efficiency|Dual-System MSHP, SEER 29.3, 14 HSPF, Separate Backup, Max Load
        apply_logic: *dual-system_elec_wall_furnace_apply_logic
        costs: *costs_mshp_ductless_SEER_29_14_HSPF
        lifetime: *lifetime_mshp_ductless_SEER_29_14_HSPF
      - option: HVAC Secondary Heating Efficiency|Electric Wall Furnace, 100% AFUE
        apply_logic: *dual-system_elec_wall_furnace_apply_logic
      - option: HVAC Secondary Heating Type And Fuel|Electricity Electric Wall Furnace
        apply_logic: *dual-system_elec_wall_furnace_apply_logic
    # Existing MSHP upgraded
      - option: HVAC Heating Efficiency|MSHP, SEER 29.3, 14 HSPF, Max Load
        apply_logic: *MSHP_upgrade_apply_logic
        costs: *costs_mshp_ductless_SEER_29_14_HSPF
        lifetime: *lifetime_mshp_ductless_SEER_29_14_HSPF
# Dual-Fuel (use existing separate backup)
  # Set heat pump option
  # MSHP (no ducts)
      - option: HVAC Heating Efficiency|Dual-Fuel MSHP, SEER 29.3, 14 HSPF, Separate Backup, Max Load
        apply_logic: *dual-fuel_ductlessMSHP_nonshared_heating_apply_logic         
        costs: *costs_mshp_ductless_SEER_29_14_HSPF
        lifetime: *lifetime_mshp_ductless_SEER_29_14_HSPF
 
  # Boilers as secondary systems
  # Set secondary boiler fuel type
      - option: HVAC Secondary Heating Type And Fuel|Natural Gas Fuel Boiler
        apply_logic: *secondary_natural_gas_fuel_boiler
      - option: HVAC Secondary Heating Type And Fuel|Propane Fuel Boiler
        apply_logic: *secondary_propane_fuel_boiler
      - option: HVAC Secondary Heating Type And Fuel|Fuel Oil Fuel Boiler
        apply_logic: *secondary_fuel_oil_fuel_boiler
  # Set secondary fuel boiler efficiency levels
      - option: HVAC Secondary Heating Efficiency|Fuel Boiler, 72% AFUE
        apply_logic: *secondary_72_eff_boiler
      - option: HVAC Secondary Heating Efficiency|Fuel Boiler, 76% AFUE
        apply_logic: *secondary_76_eff_boiler
      - option: HVAC Secondary Heating Efficiency|Fuel Boiler, 80% AFUE
        apply_logic: *secondary_80_eff_boiler
      - option: HVAC Secondary Heating Efficiency|Fuel Boiler, 82% AFUE
        apply_logic: *secondary_82_eff_boiler
      - option: HVAC Secondary Heating Efficiency|Fuel Boiler, 85% AFUE
        apply_logic: *secondary_85_eff_boiler
      - option: HVAC Secondary Heating Efficiency|Fuel Boiler, 90% AFUE
        apply_logic: *secondary_90_eff_boiler
      - option: HVAC Secondary Heating Efficiency|Fuel Boiler, 95% AFUE, OAT Reset
        apply_logic: *secondary_95_eff_boiler
      - option: HVAC Secondary Heating Efficiency|Fuel Boiler, 96% AFUE
        apply_logic: *secondary_96_eff_boiler

  # Wall/Floor Furnace as secondary systems
  # Set secondary Wall/Floor Furnace fuel type
      - option: HVAC Secondary Heating Type And Fuel|Natural Gas Fuel Wall/Floor Furnace
        apply_logic: *secondary_ng_wall_floor
      - option: HVAC Secondary Heating Type And Fuel|Propane Fuel Wall/Floor Furnace
        apply_logic: *secondary_propane_wall_floor
      - option: HVAC Secondary Heating Type And Fuel|Fuel Oil Fuel Wall/Floor Furnace
        apply_logic: *secondary_fuel_oil_wall_floor
  # Set secondary fuel Wall/Floor Furnace efficiency levels
      - option: HVAC Secondary Heating Efficiency|Fuel Wall/Floor Furnace, 60% AFUE
        apply_logic: *secondary_60_eff_wall_floor
      - option: HVAC Secondary Heating Efficiency|Fuel Wall/Floor Furnace, 68% AFUE
        apply_logic: *secondary_68_eff_wall_floor
        
  # MSHP Max Load separate backup for fossil fuels, full replacement for electric
      - option: HVAC Heating Efficiency|Dual-Fuel MSHP, SEER 29.3, 14 HSPF, Separate Backup, Max Load
        apply_logic: *dual-fuel_ductless_shared_apply_logic
        costs: *costs_mshp_ductless_SEER_29_14_HSPF
        lifetime: *lifetime_mshp_ductless_SEER_29_14_HSPF
      - option: HVAC Heating Efficiency|MSHP, SEER 29.3, 14 HSPF, Max Load
        apply_logic: *dual-system_ductless_shared_apply_logic           
        costs: *costs_mshp_ductless_SEER_29_14_HSPF
        lifetime: *lifetime_mshp_ductless_SEER_29_14_HSPF


  # Shared Heating as secondary systems for dwellings
  # Set secondary shared system fuel type
      - option: HVAC Secondary Heating Type And Fuel|Natural Gas Shared Heating
        apply_logic: *secondary_ng_shared      
      - option: HVAC Secondary Heating Type And Fuel|Propane Shared Heating
        apply_logic: *secondary_propane_shared
      - option: HVAC Secondary Heating Type And Fuel|Fuel Oil Shared Heating
        apply_logic: *secondary_fuel_oil_shared

  # Set secondary shared system efficiency levels for dwellings with no ducts
      - option: HVAC Secondary Heating Efficiency|Boiler Baseboards Heating Only, Natural Gas
        apply_logic: *secondary_boiler_baseboard_ng
      - option: HVAC Secondary Heating Efficiency|Boiler Baseboards Heating Only, Propane
        apply_logic: *secondary_boiler_baseboard_propane
      - option: HVAC Secondary Heating Efficiency|Boiler Baseboards Heating Only, Fuel Oil
        apply_logic: *secondary_boiler_baseboard_fuel_oil

#global
      - option: HVAC Cooling Efficiency|Heat Pump # Applied regardless of which option is applied
        apply_logic:
          or:
            - *dual-system_elec_baseboard_apply_logic
            - *dual-system_elec_boiler_apply_logic
            - *dual-system_elec_wall_furnace_apply_logic
            - *MSHP_upgrade_apply_logic
            - *dual-fuel_ductlessMSHP_nonshared_heating_apply_logic
            - *dual-fuel_ductless_shared_apply_logic
            - *dual-system_ductless_shared_apply_logic
            - *ducted_higheff_HP_all_fuel_apply_logic





eagle:
  n_jobs: 20
  minutes_per_sim: 3
  account: setores
  postprocessing:
    time: 30
    n_workers: 1
  sampling:
    time: 30

postprocessing:
  keep_individual_timeseries: true  # default false if omitted
  aws:
    region_name: "us-west-2"
    s3:
      bucket: resstock-resilience
      prefix: seto_year_2/tarrant #the folder within whatever bucket, should be specific to the run, can be in heirarchy (like GMLC/APS) in which case only the last part will be used by the athena database namer
