schema_version: '0.3'
os_version: 3.5.1
os_sha: 22e1db7be5
buildstock_directory: ../ # Relative to this file or absolute
project_directory: project_national # Relative to buildstock_directory
output_directory: national_upgrades
weather_files_url: https://data.nrel.gov/system/files/156/BuildStock_TMY3_FIPS.zip
# weather_files_path: c:/OpenStudio/BuildStock_TMY3_FIPS.zip

sampler:
  type: residential_quota
  args:
    n_datapoints: 5

workflow_generator:
  type: residential_hpxml
  args:
    build_existing_model:
      simulation_control_timestep: 60
      simulation_control_run_period_begin_month: 1
      simulation_control_run_period_begin_day_of_month: 1
      simulation_control_run_period_end_month: 12
      simulation_control_run_period_end_day_of_month: 31
      simulation_control_run_period_calendar_year: 2007

    emissions:
      - scenario_name: LRMER_MidCase_15
        type: CO2e
        elec_folder: data/cambium/LRMER_MidCase_15

    utility_bills:
      - scenario_name: Bills

    simulation_output_report:
      timeseries_frequency: hourly
      include_timeseries_total_consumptions: true
      include_timeseries_fuel_consumptions: true
      include_timeseries_end_use_consumptions: true
      include_timeseries_emissions: true
      include_timeseries_total_loads: false

    reporting_measures:
      - measure_dir_name: QOIReport

    server_directory_cleanup:
      retain_in_idf: false
      retain_schedules_csv: false

baseline:
  n_buildings_represented: 136569411 # American Community Survey 2019 5-year, B25001, does not include AK, HI, and territories

upgrades:
  - upgrade_name: Universal Cooling
    options:
      - &add_room_ac
        option: HVAC Cooling Type|Room AC
        apply_logic:
          - and:
            - HVAC Has Ducts|No
            - HVAC Cooling Type|None
      - &add_central_ac
        option: HVAC Cooling Type|Central AC
        apply_logic:
          - and:
            - HVAC Has Ducts|Yes
            - HVAC Cooling Type|None
      - &eff_room_ac
        option: HVAC Cooling Efficiency|Room AC, EER 12.0 #TBD
        apply_logic:
          - and:
            - HVAC Has Ducts|No
            - HVAC Cooling Type|None
      - &eff_central_ac_southeast_and_southwest
        option: HVAC Cooling Efficiency|AC, SEER 15
        apply_logic:
          - and:
            - HVAC Has Ducts|Yes
            - HVAC Cooling Type|None
            - or:
              - State|CA
              - State|NV
              - State|AZ
              - State|NM
              - State|OK
              - State|TX
              - State|AR
              - State|LA
              - State|KY
              - State|TN
              - State|MS
              - State|AL
              - State|GA
              - State|FL
              - State|SC
              - State|NC
              - State|VA
              - State|DC
              - State|MD
              - State|DE
      - &eff_central_ac_us_others
        option: HVAC Cooling Efficiency|AC, SEER 14
        apply_logic:
          - and:
            - HVAC Has Ducts|Yes
            - HVAC Cooling Type|None
            - or:
              - State|WA
              - State|OR
              - State|MY
              - State|ID
              - State|WY
              - State|UT
              - State|CO
              - State|ND
              - State|SD
              - State|NE
              - State|KS
              - State|MN
              - State|IA
              - State|MO
              - State|WI
              - State|IL
              - State|MI
              - State|IN
              - State|OH
              - State|WV
              - State|PA
              - State|NJ
              - State|NY
              - State|CT
              - State|RI
              - State|MA
              - State|VT
              - State|NH
              - State|ME

  - upgrade_name: ENERGYSTAR Room AC
    options:
      - &energystar_room_ac
        option: HVAC Cooling Efficiency |Room AC, EER 12.0
        apply_logic:
          - or:
            - HVAC Cooling Efficiency|Room AC, EER 8.5
            - HVAC Cooling Efficiency|Room AC, EER 9.8
            - HVAC Cooling Efficiency|Room AC, EER 10.7

  - upgrade_name: ENERGYSTAR Central AC
    options:
      - &energystar_central_ac
        option: HVAC Cooling Efficiency |AC, SEER 15.2
        apply_logic:
          - or:
            - HVAC Cooling Efficiency|AC, SEER 8
            - HVAC Cooling Efficiency|AC, SEER 10
            - HVAC Cooling Efficiency|AC, SEER 13
            - HVAC Cooling Efficiency|AC, SEER 14
            - HVAC Cooling Efficiency|AC, SEER 15

  - upgrade_name: HPWH
    options:
      - &water_heater_fuel_type
        option: Water Heater Fuel|Electricity
      - &water_heater_efficiency_electric_heat_pump_50_gal_3_pt_45_uef
        option: Water Heater Efficiency|Electric Heat Pump, 50 gal, 3.45 UEF
        apply_logic:
          - or:
            - Occupants|0
            - Occupants|1
            - Occupants|2
        costs:
          - value: 100.0 #TBD
            multiplier: Size, Water Heater (gal)
        lifetime: 12
      - &water_heater_efficiency_electric_heat_pump_66_gal_3_pt_35_uef
        option: Water Heater Efficiency|Electric Heat Pump, 66 gal, 3.35 UEF
        apply_logic:
          - or:
            - Occupants|3
        costs:
          - value: 100.0 #TBD
            multiplier: Size, Water Heater (gal)
        lifetime: 12
      - &water_heater_efficiency_electric_heat_pump_80_gal_3_pt_45_uef
        option: Water Heater Efficiency|Electric Heat Pump, 80 gal, 3.45 UEF
        apply_logic:
          - or:
            - Occupants|4
            - Occupants|5
            - Occupants|6
            - Occupants|7
            - Occupants|8
            - Occupants|9
            - Occupants|10+
        costs:
          - value: 100.0 #TBD
            multiplier: Size, Water Heater (gal)
        lifetime: 12

  - upgrade_name: 96% AFUE Natural Gas Furnace
    options:
      - &Furnace_fuel_type
        option: HVAC Heating Type And Fuel|Natural Gas Fuel Furnace
        apply_logic:
          - and: 
            - or:
              - Heating Fuel|Natural Gas
              - Water Heater Fuel|Natural Gas # Do we need more to represent any natural gas usage?
            - or:
              - HVAC Heating Type And Fuel|Fuel Oil Fuel Furnace
              - HVAC Heating Type And Fuel|Propane Fuel Furnace
              - HVAC Heating Type And Fuel|Other Fuel Fuel Furnace
      - &96%AFUE_furnace
        option: HVAC Heating Efficiency|Fuel Furnace, 96% AFUE
        apply_logic:
          - and: 
            - or:
              - Heating Fuel|Natural Gas
              - Water Heater Fuel|Natural Gas
            - or:
              - HVAC Heating Type And Fuel|Natural Gas Fuel Furnace
              - HVAC Heating Type And Fuel|Fuel Oil Fuel Furnace
              - HVAC Heating Type And Fuel|Propane Fuel Furnace
              - HVAC Heating Type And Fuel|Other Fuel Fuel Furnace
            - or:
              - HVAC Heating Efficiency|Fuel Furnace, 60% AFUE
              - HVAC Heating Efficiency|Fuel Furnace, 68% AFUE
              - HVAC Heating Efficiency|Fuel Furnace, 72% AFUE
              - HVAC Heating Efficiency|Fuel Furnace, 76% AFUE
              - HVAC Heating Efficiency|Fuel Furnace, 80% AFUE
              - HVAC Heating Efficiency|Fuel Furnace, 85% AFUE
              - HVAC Heating Efficiency|Fuel Furnace, 90% AFUE
              - HVAC Heating Efficiency|Fuel Furnace, 92.5% AFUE

  - upgrade_name: 96% AFUE Natural Gas Boiler
    options:
      - &Furnace_fuel_type
        option: HVAC Heating Type And Fuel|Natural Gas Fuel Boiler
        apply_logic:
          - and: 
            - or:
              - Heating Fuel|Natural Gas
              - Water Heater Fuel|Natural Gas # Do we need more to represent any natural gas usage?
            - or:
              - HVAC Heating Type And Fuel|Fuel Oil Fuel Boiler
              - HVAC Heating Type And Fuel|Propane Fuel Boiler
              - HVAC Heating Type And Fuel|Other Fuel Fuel Boiler
      - &96%AFUE_boiler
        option: HVAC Heating Efficiency|Fuel Boiler, 96% AFUE
        apply_logic:
          - and: 
            - or:
              - Heating Fuel|Natural Gas
              - Water Heater Fuel|Natural Gas
            - or:
              - HVAC Heating Type And Fuel|Natural Gas Fuel Boiler
              - HVAC Heating Type And Fuel|Fuel Oil Fuel Boiler
              - HVAC Heating Type And Fuel|Propane Fuel Boiler
              - HVAC Heating Type And Fuel|Other Fuel Fuel Boiler
            - or:
              - HVAC Heating Efficiency|Fuel Boiler, 72% AFUE
              - HVAC Heating Efficiency|Fuel Boiler, 76% AFUE
              - HVAC Heating Efficiency|Fuel Boiler, 80% AFUE
              - HVAC Heating Efficiency|Fuel Boiler, 82% AFUE
              - HVAC Heating Efficiency|Fuel Boiler, 85% AFUE
              - HVAC Heating Efficiency|Fuel Boiler, 90% AFUE
              - HVAC Heating Efficiency|Fuel Boiler, 95% AFUE, OAT Reset

eagle:
  n_jobs: 3
  minutes_per_sim: 30
  account: <account you are authorized to use>
  postprocessing:
    time: 20
    n_workers: 1
  sampling:
    time: 5
