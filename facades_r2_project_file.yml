schema_version: '0.3'
buildstock_directory: . # Relative to this file or absolute
project_directory: project_national  # Relative to buildstock_directory
output_directory: /projects/enduse/euss/resstock_runs/res_full_01_2018_550k_20220713
# weather_files_url: https://s3.amazonaws.com/epwweatherfiles/project_resstock_national.zip
# weather_files_url: https://data.nrel.gov/system/files/156/BuildStock_TMY3_FIPS.zip
weather_files_path: /shared-projects/buildstock/weather/BuildStock_TMY3_FIPS.zip

baseline:
  n_buildings_represented: 133172057

sampler: 
  type: residential_quota
  args: 
    n_datapoints: 550000

workflow_generator: 
  type: residential_hpxml
  args:
    build_existing_model:
      simulation_control_timestep: 15 # minutes
      simulation_control_run_period_begin_month: 1
      simulation_control_run_period_begin_day_of_month: 1
      simulation_control_run_period_end_month: 12
      simulation_control_run_period_end_day_of_month: 31
      simulation_control_run_period_calendar_year: 2012

    emissions: #double check syntax
      - scenario_name: LRMER_MidCase_15
        type: CO2e
        elec_folder: data/cambium/LRMER_MidCase_15
        gas_value: 147.3
        propane_value: 177.8
        oil_value: 195.9
        wood_value: 200.0
      - scenario_name: LRMER_MidCase_30
        type: CO2e
        elec_folder: data/cambium/LRMER_MidCase_30
        gas_value: 147.3
        propane_value: 177.8
        oil_value: 195.9
        wood_value: 200.0
      - scenario_name: LRMER_LowRECost_15
        type: CO2e
        elec_folder: data/cambium/LRMER_LowRECost_15
        gas_value: 147.3
        propane_value: 177.8
        oil_value: 195.9
        wood_value: 200.0
      - scenario_name: LRMER_LowRECost_30
        type: CO2e
        elec_folder: data/cambium/LRMER_LowRECost_30
        gas_value: 147.3
        propane_value: 177.8
        oil_value: 195.9
        wood_value: 200.0

    simulation_output_report:
      timeseries_frequency: none

    server_directory_cleanup: #check
      debug: false


eagle:
  account: enduse
  n_jobs: 600 #try 600 for full run
  minutes_per_sim: 2
  sampling:
    time: 60 #try 60 for full run
  postprocessing:
    time: 240
    n_workers: 32 #try 32 for full run

upgrades:
  - upgrade_name: Basic Enclosure
    #Up01
    options:
      #Attic floor insulation up to IECC 2021 levels for homes with vented attics and less than R-30 existing insulation
      - &attic_insulation_IECC_CZ1A
        option: Insulation Ceiling|R-30
        apply_logic:
          - and:
            - ASHRAE IECC Climate Zone 2004|1A
            - Geometry Attic Type|Vented Attic
            - or:
              - Insulation Ceiling|Uninsulated
              - Insulation Ceiling|R-7
              - Insulation Ceiling|R-13
        costs:
          - value: 0.0443 # $/(ft^2 * Delta R-value), from original REMDB xlsx for blown cellulose (0.0154+0.019), with 1.289 inflation factor
            multiplier: Floor Area, Attic * Insulation Increase (ft^2 * Delta R-value)
          - value: 0.1992 # $/(ft^2), from original REMDB xlsx for blown cellulose (0.1505+0.004), with 1.289 inflation factor
            multiplier: Floor Area, Attic (ft^2)
        lifetime: 60 # years effective useful life for opaque envelope components, from https://www.nyserda.ny.gov/-/media/Files/Programs/energy-code-training/Residential-Cost-Analysis-Report.pdf 
      - &attic_insulation_IECC_CZ2A-2B-3A-3B-3C
        option: Insulation Ceiling|R-49
        apply_logic:
          - and:
            - or:
              - ASHRAE IECC Climate Zone 2004|2A
              - ASHRAE IECC Climate Zone 2004|2B
              - ASHRAE IECC Climate Zone 2004|3A
              - ASHRAE IECC Climate Zone 2004|3B
              - ASHRAE IECC Climate Zone 2004|3C
            - Geometry Attic Type|Vented Attic
            - or:
              - Insulation Ceiling|Uninsulated
              - Insulation Ceiling|R-7
              - Insulation Ceiling|R-13
              - Insulation Ceiling|R-19
              - Insulation Ceiling|R-3