schema_version: '0.3'
buildstock_directory: /home/epresent/resstock # Relative to this file or absolute
project_directory: project_national # Relative to buildstock_directory
output_directory: /lustre/eaglefs/scratch/epresent/PR848test/PRtest8
#weather_files_url: https://data.nrel.gov/system/files/156/BuildStock_TMY3_FIPS.zip
weather_files_path: /shared-projects/buildstock/weather/BuildStock_2018_FIPS.zip

sampler:
  type: residential_quota
  args:
    n_datapoints: 200

workflow_generator:
  type: residential_hpxml
  args:
    build_existing_model:
      simulation_control_timestep: 60
      simulation_control_run_period_begin_month: 1
      simulation_control_run_period_begin_day_of_month: 1
      simulation_control_run_period_end_month: 12
      simulation_control_run_period_end_day_of_month: 31
      simulation_control_run_period_calendar_year: 2018

    emissions:
      - scenario_name: LRMER_MidCase_15
        type: CO2
        elec_folder: data/cambium/LRMER_LowRECost_15
        gas_value: 117.6
        propane_value: 136.6
        oil_value: 161.0
        wood_value: 200.0

    simulation_output_report:
      timeseries_frequency: hourly
      include_timeseries_fuel_consumptions: true
      include_timeseries_end_use_consumptions: true
      include_timeseries_emissions: true
      include_timeseries_total_loads: true

    reporting_measures:
      - measure_dir_name: QOIReport

    server_directory_cleanup:
      retain_in_idf: false
      retain_schedules_csv: false

baseline:
  n_buildings_represented: 136569411 # American Community Survey 2019 5-year, B25001, does not include AK, HI, and territories

upgrades:
  - upgrade_name: 20% ACH50 reduction
    options:
      - option: Infiltration Reduction|20%
        costs:
          - value: 1
            multiplier: Floor Area * Infiltration Reduction, Conditioned (ft^2 * Delta ACH50)
        lifetime: 999
  - upgrade_name: 20% ACH50 reduction to older homes
    options:
      - option: Infiltration Reduction|20%
        apply_logic:
          or:
            - Vintage|<1940
            - Vintage|1940s
            - Vintage|1950s
        costs:
          - value: 1
            multiplier: Floor Area * Infiltration Reduction, Conditioned (ft^2 * Delta ACH50)
        lifetime: 999
  - upgrade_name: 20% ACH50 reduction to leakier homes
    options:
      - option: Infiltration Reduction|20%
        apply_logic:
          or:
            - Infiltration|50 ACH50
            - Infiltration|40 ACH50
            - Infiltration|30 ACH50
        costs:
          - value: 0
            multiplier: Floor Area * Infiltration Reduction, Conditioned (ft^2 * Delta ACH50)
        lifetime: 999
  - upgrade_name: R-60 attic insulation for all
    options: 
      - option: Insulation Ceiling|R-60
        costs:
          - value: 1
            multiplier: Floor Area * Insulation Increase, Attic (ft^2 * Delta R-value)
        lifetime: 999
  - upgrade_name: R-49 attic insulation for all lower
    options:
      - option: Insulation Ceiling|R-49
        apply_logic:
          or:
            - Insulation Ceiling|R-38
            - Insulation Ceiling|R-30
            - Insulation Ceiling|R-19
            - Insulation Ceiling|R-13
            - Insulation Ceiling|R-7
            - Insulation Ceiling|Uninsulated
        costs:
          - value: 1
            multiplier: Floor Area * Insulation Increase, Attic (ft^2 * Delta R-value)
        lifetime: 999

eagle:
  n_jobs: 3
  minutes_per_sim: 30
  account: enduse
  postprocessing:
    time: 20
    n_workers: 1
  sampling:
    time: 5